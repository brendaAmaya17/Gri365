<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GRI365 - Inventario TI</title>
    <link rel="stylesheet" href="./../styles.css"> 
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
</head>
<body class="project-page"> 
    
    <div class="page-container">
        
        <aside class="sidebar">
            <div class="sidebar-header">
                <img src="https://ik.imagekit.io/v3kitfabd/gri365/solo%20ojo%20oscuro.png?updatedAt=1759508923355" alt="Logo Claro" class="logo-light">
                <img src="https://ik.imagekit.io/v3kitfabd/gri365/solo%20ojo%20claro.png?updatedAt=1759508923395" alt="Logo Oscuro" class="logo-dark hidden">
            </div>
            <nav class="navigation">
                <a class="nav-link" href="./../index.html"><span class="material-symbols-outlined">dashboard</span><span>Inicio</span></a>
                <a class="nav-link" href="#"><span class="material-symbols-outlined">list_alt</span><span>FixIT</span></a>
                <a class="nav-link" href="./../pages/gestion.html"><span class="material-symbols-outlined">add_task</span><span>Gestión de Proyectos</span></a>
                <a class="nav-link" href="./../pages/marketing.html"><span class="material-symbols-outlined">linked_camera</span><span>CAM</span></a>
                <a class="nav-link active" href="./../pages/inventario.html"><span class="material-symbols-outlined">inventory</span><span>Inventario</span></a>
            </nav>
            <div class="sidebar-footer">
                <a class="nav-link" href="#"><span class="material-symbols-outlined">logout</span><span>Cerrar Sesión</span></a>
            </div>
        </aside>

        <main class="main-content">
            
            <header class="project-header">
                <div class="project-header-main">
                    <div class="project-logo">
                        <span class="material-symbols-outlined">inventory</span>
                        <h2 class="titulo">Directorio de Usuarios</h2>
                    </div>
                </div>
                <div class="header-actions">
                    <button id="theme-toggle-btn" class="icon-button" title="Alternar tema">
                        <span class="material-symbols-outlined sun-icon">light_mode</span>
                        <span class="material-symbols-outlined moon-icon hidden">dark_mode</span>
                    </button>
                    <a href="#" class="icon-button" title="Cerrar Sesión">
                        <span class="material-symbols-outlined">logout</span>
                    </a>
                </div>
            </header>

            <div class="content-area">
                <div id="inventory-module-scope" class="max-width-7xl">
                    
                    <div id="view-directory" class="view-section active">
                        <!-- Pestañas de Activo/Inactivo/Inventario -->
                        <div class="tabs-container" style="margin-bottom: 1.5rem;">
                            <button class="tab-btn active" onclick="switchEmployeeTab('active', this)">Empleados Activos</button>
                            <button class="tab-btn" onclick="switchEmployeeTab('inactive', this)">Empleados Inactivos</button>
                            <button class="tab-btn" onclick="switchEmployeeTab('inventory', this)">Inventario</button>
                        </div>

                        <!-- Botón Agregar Empleado - Solo visible en pestaña "Empleados Activos" -->
                            <div id="add-employee-btn-container" style="display: flex; justify-content: flex-end; margin-bottom: 1rem;">
                                <button class="btn-primary-highlight" onclick="showAddEmployeeForm()">
                                    <span class="material-symbols-outlined icon-base">add</span>
                                    Agregar Empleado
                                </button>
                            </div>

                            <!-- Modal/Formulario de Registro de Empleado - Inicialmente oculto -->
                            <div id="add-employee-modal" class="modal-overlay" style="display: none;">
                                <div class="modal-content">
                                    <!-- Encabezado del Modal -->
                                    <div class="modal-header">
                                        <h2 class="modal-title">Completa la información del nuevo empleado</h2>
                                        <p class="modal-subtitle">Sigue los pasos para registrar todos los datos.</p>
                                        <button class="modal-close-btn" onclick="closeAddEmployeeForm()">
                                            <span class="material-symbols-outlined">close</span>
                                        </button>
                                    </div>

                                    <!-- Indicador de Pasos -->
                                    <div class="steps-container">
                                        <div class="step-item active" data-step="1">
                                            <div class="step-circle">1</div>
                                            <div class="step-label">Información Personal</div>
                                        </div>
                                        <div class="step-connector"></div>
                                        <div class="step-item" data-step="2">
                                            <div class="step-circle">2</div>
                                            <div class="step-label">Datos Legales</div>
                                        </div>
                                        <div class="step-connector"></div>
                                        <div class="step-item" data-step="3">
                                            <div class="step-circle">3</div>
                                            <div class="step-label">Info. Empresa</div>
                                        </div>
                                        <div class="step-connector"></div>
                                        <div class="step-item" data-step="4">
                                            <div class="step-circle">4</div>
                                            <div class="step-label">Hardware</div>
                                        </div>
                                        <div class="step-connector"></div>
                                        <div class="step-item" data-step="5">
                                            <div class="step-circle">5</div>
                                            <div class="step-label">Software</div>
                                        </div>
                                    </div>

                                    <!-- Contenido del Formulario por Pasos -->
                                    <div class="form-steps-content">
                                        
                                        <!-- PASO 1: Información Personal -->
                                        <div class="form-step active" data-step="1">
                                            <div class="edit-form-grid">
                                                <div class="form-input-group">
                                                    <label class="form-label">Nombre Completo</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="text" placeholder="Ej: Ana María García Pérez" />
                                                        <span class="material-symbols-outlined input-icon">person</span>
                                                    </div>
                                                </div>
                                                <div class="form-input-group">
                                                    <label class="form-label">Fecha de Nacimiento</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="date" />
                                                        <span class="material-symbols-outlined input-icon">calendar_today</span>
                                                    </div>
                                                </div>
                                                <div class="form-input-group">
                                                    <label class="form-label">Cédula</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="text" placeholder="Ej: V-12.345.678" />
                                                        <span class="material-symbols-outlined input-icon">badge</span>
                                                    </div>
                                                </div>
                                                <div class="form-input-group">
                                                    <label class="form-label">Celular</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="tel" placeholder="Ej: +58 412-1234567" />
                                                        <span class="material-symbols-outlined input-icon">phone</span>
                                                    </div>
                                                </div>
                                                <div class="form-input-group">
                                                    <label class="form-label">Correo</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="email" placeholder="Ej: ana.garcia@email.com" />
                                                        <span class="material-symbols-outlined input-icon">email</span>
                                                    </div>
                                                </div>
                                                <div class="form-input-group">
                                                    <label class="form-label">Dirección de Residencia</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="text" placeholder="Ej: Calle Falsa 123, Apto 4B" />
                                                        <span class="material-symbols-outlined input-icon">home</span>
                                                    </div>
                                                </div>
                                                <div class="form-input-group">
                                                    <label class="form-label">Ciudad / Departamento</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="text" placeholder="Ej: Bogotá D.C." />
                                                        <span class="material-symbols-outlined input-icon">location_city</span>
                                                    </div>
                                                </div>
                                                <div class="form-input-group">
                                                    <label class="form-label">Teléfono de Emergencia</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="tel" placeholder="Ej: +57 310-9876543" />
                                                        <span class="material-symbols-outlined input-icon">emergency</span>
                                                    </div>
                                                </div>
                                                <div class="form-input-group">
                                                    <label class="form-label">Persona de Contacto en Emergencias</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="text" placeholder="Ej: Carlos Pérez" />
                                                        <span class="material-symbols-outlined input-icon">contact_emergency</span>
                                                    </div>
                                                </div>
                                                <div class="form-input-group">
                                                    <label class="form-label">Parentesco del Contacto de Emergencia</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="text" placeholder="Ej: Padre" />
                                                        <span class="material-symbols-outlined input-icon">family_restroom</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- PASO 2: Datos Legales -->
                                        <div class="form-step" data-step="2">
                                            <div class="edit-form-grid">
                                                <div class="form-input-group">
                                                    <label class="form-label">EPS</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="text" placeholder="Ej: Sura" />
                                                        <span class="material-symbols-outlined input-icon">medical_services</span>
                                                    </div>
                                                </div>
                                                <div class="form-input-group">
                                                    <label class="form-label">Fecha Afiliación EPS</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="date" />
                                                        <span class="material-symbols-outlined input-icon">calendar_today</span>
                                                    </div>
                                                </div>
                                                <div class="form-input-group">
                                                    <label class="form-label">ARL</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="text" placeholder="Ej: Positiva" />
                                                        <span class="material-symbols-outlined input-icon">health_and_safety</span>
                                                    </div>
                                                </div>
                                                <div class="form-input-group">
                                                    <label class="form-label">Fecha Afiliación ARL</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="date" />
                                                        <span class="material-symbols-outlined input-icon">calendar_today</span>
                                                    </div>
                                                </div>
                                                <div class="form-input-group">
                                                    <label class="form-label">Caja de Compensación</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="text" placeholder="Ej: Colsubsidio" />
                                                        <span class="material-symbols-outlined input-icon">account_balance</span>
                                                    </div>
                                                </div>
                                                <div class="form-input-group">
                                                    <label class="form-label">Fecha Afiliación Caja Compensación</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="date" />
                                                        <span class="material-symbols-outlined input-icon">calendar_today</span>
                                                    </div>
                                                </div>
                                                <div class="form-input-group">
                                                    <label class="form-label">Fondo de Pensiones</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="text" placeholder="Ej: Protección" />
                                                        <span class="material-symbols-outlined input-icon">savings</span>
                                                    </div>
                                                </div>
                                                <div class="form-input-group">
                                                    <label class="form-label">Fondo de Cesantías</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="text" placeholder="Ej: Porvenir" />
                                                        <span class="material-symbols-outlined input-icon">account_balance_wallet</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- PASO 3: Info. Empresa -->
                                        <div class="form-step" data-step="3">
                                            <div class="edit-form-grid">
                                                <div class="form-input-group">
                                                    <label class="form-label">Tipo de Contrato</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="text" placeholder="Ej: Indefinido" />
                                                        <span class="material-symbols-outlined input-icon">description</span>
                                                    </div>
                                                </div>
                                                <div class="form-input-group">
                                                    <label class="form-label">Cargo</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="text" placeholder="Ej: Desarrollador Senior" />
                                                        <span class="material-symbols-outlined input-icon">work</span>
                                                    </div>
                                                </div>
                                                <div class="form-input-group">
                                                    <label class="form-label">Inicio de Contrato</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="date" />
                                                        <span class="material-symbols-outlined input-icon">calendar_today</span>
                                                    </div>
                                                </div>
                                                <div class="form-input-group">
                                                    <label class="form-label">Área / Departamento</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="text" placeholder="Ej: Tecnología de la Información" />
                                                        <span class="material-symbols-outlined input-icon">domain</span>
                                                    </div>
                                                </div>
                                                <div class="form-input-group">
                                                    <label class="form-label">Jefe Inmediato</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="text" placeholder="Ej: Carlos Rodríguez" />
                                                        <span class="material-symbols-outlined input-icon">supervisor_account</span>
                                                    </div>
                                                </div>
                                                <div class="form-input-group">
                                                    <label class="form-label">Horario / Jornada Laboral</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="text" placeholder="Ej: L-V 9:00am - 5:00pm" />
                                                        <span class="material-symbols-outlined input-icon">schedule</span>
                                                    </div>
                                                </div>
                                                <div class="form-input-group">
                                                    <label class="form-label">Salario</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="text" placeholder="Ej: $5.000.000" />
                                                        <span class="material-symbols-outlined input-icon">payments</span>
                                                    </div>
                                                </div>
                                                <div class="form-input-group">
                                                    <label class="form-label">Entidad de Pago</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="text" placeholder="Ej: Bancolombia" />
                                                        <span class="material-symbols-outlined input-icon">account_balance</span>
                                                    </div>
                                                </div>
                                                <div class="form-input-group">
                                                    <label class="form-label">Número de Cuenta</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="text" placeholder="Ej: 123-456789-01" />
                                                        <span class="material-symbols-outlined input-icon">credit_card</span>
                                                    </div>
                                                </div>
                                                <div class="form-input-group">
                                                    <label class="form-label">ID Biométrico</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="text" placeholder="Ej: BIO-2023-001234" />
                                                        <span class="material-symbols-outlined input-icon">fingerprint</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- PASO 4: Hardware -->
                                        <div class="form-step" data-step="4">
                                            <div class="edit-form-grid">
                                                <div class="form-input-group">
                                                    <label class="form-label">Procesador</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="text" placeholder="Ej: Intel Core i7 12th Gen" />
                                                        <span class="material-symbols-outlined input-icon">memory</span>
                                                    </div>
                                                </div>
                                                <div class="form-input-group">
                                                    <label class="form-label">Memoria RAM</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="text" placeholder="Ej: 16 GB DDR4" />
                                                        <span class="material-symbols-outlined input-icon">storage</span>
                                                    </div>
                                                </div>
                                                <div class="form-input-group">
                                                    <label class="form-label">Almacenamiento</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="text" placeholder="Ej: 512 GB SSD NVMe" />
                                                        <span class="material-symbols-outlined input-icon">hard_drive</span>
                                                    </div>
                                                </div>
                                                <div class="form-input-group">
                                                    <label class="form-label">Tarjeta Gráfica</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="text" placeholder="Ej: NVIDIA RTX 3050" />
                                                        <span class="material-symbols-outlined input-icon">videogame_asset</span>
                                                    </div>
                                                </div>
                                                <div class="form-input-group">
                                                    <label class="form-label">Mouse</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="text" placeholder="Ej: Logitech G203" />
                                                        <span class="material-symbols-outlined input-icon">mouse</span>
                                                    </div>
                                                </div>
                                                <div class="form-input-group">
                                                    <label class="form-label">Teclado</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="text" placeholder="Ej: Mecánico Redragon" />
                                                        <span class="material-symbols-outlined input-icon">keyboard</span>
                                                    </div>
                                                </div>
                                                <div class="form-input-group">
                                                    <label class="form-label">Diadema</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="text" placeholder="Ej: Sony WH-1000XM5" />
                                                        <span class="material-symbols-outlined input-icon">headphones</span>
                                                    </div>
                                                </div>
                                                <div class="form-input-group">
                                                    <label class="form-label">Antena Wifi</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="text" placeholder="Ej: Integrada" />
                                                        <span class="material-symbols-outlined input-icon">wifi</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- PASO 5: Software -->
                                        <div class="form-step" data-step="5">
                                            <div class="edit-form-grid">
                                                <div class="form-input-group">
                                                    <label class="form-label">Microsoft Office 365</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="text" placeholder="Ej: Licencia E3" />
                                                        <span class="material-symbols-outlined input-icon">article</span>
                                                    </div>
                                                </div>
                                                <div class="form-input-group">
                                                    <label class="form-label">Adobe Creative Cloud</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="text" placeholder="Ej: Todas las aplicaciones" />
                                                        <span class="material-symbols-outlined input-icon">palette</span>
                                                    </div>
                                                </div>
                                                <div class="form-input-group">
                                                    <label class="form-label">Slack</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="text" placeholder="Ej: Plan Pro" />
                                                        <span class="material-symbols-outlined input-icon">chat</span>
                                                    </div>
                                                </div>
                                                <div class="form-input-group">
                                                    <label class="form-label">Figma</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="text" placeholder="Ej: Licencia Profesional" />
                                                        <span class="material-symbols-outlined input-icon">design_services</span>
                                                    </div>
                                                </div>
                                                <div class="form-input-group">
                                                    <label class="form-label">Jira</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="text" placeholder="Ej: Acceso Completo" />
                                                        <span class="material-symbols-outlined input-icon">task</span>
                                                    </div>
                                                </div>
                                                <div class="form-input-group">
                                                    <label class="form-label">GitLab</label>
                                                    <div class="input-with-icon">
                                                        <input class="form-input" type="text" placeholder="Ej: Rol de Mantenedor" />
                                                        <span class="material-symbols-outlined input-icon">code</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>

                                    <!-- Botones de Navegación -->
                                    <div class="form-navigation">
                                        <button class="btn-outline" id="prev-step-btn" onclick="previousStep()" style="display: none;">
                                            <span class="material-symbols-outlined icon-base">arrow_back</span>
                                            Anterior
                                        </button>
                                        <button class="btn-primary-highlight" id="next-step-btn" onclick="nextStep()">
                                            Siguiente
                                            <span class="material-symbols-outlined icon-base">arrow_forward</span>
                                        </button>
                                        <button class="btn-primary-highlight" id="submit-form-btn" onclick="submitEmployeeForm()" style="display: none;">
                                            <span class="material-symbols-outlined icon-base">check</span>
                                            Guardar Empleado
                                        </button>
                                    </div>
                                </div>
                            </div>

                        <div class="search-container shadow-sm">
                            <span class="material-symbols-outlined search-icon">search</span>
                            <input class="search-input" id="search-input" placeholder="Buscar por nombre o puesto..." type="text"/>
                        </div>
                        
                        <!-- Grid de empleados activos -->
                        <div id="active-employees-grid" class="inventory-grid">
                            <div class="user-card shadow-sm">
                                <div class="card-avatar" style='background-image: url("https://i.pravatar.cc/150?img=9");'></div>
                                <div class="card-text">
                                    <p class="name">Ana Garcia</p>
                                    <p class="role">Directora de TI</p>
                                </div>
                                <a class="btn-primary-dark" href="#" onclick="event.preventDefault(); showProfileView('Ana Garcia', 'Directora de TI', '9', 'active')">Ver detalle</a>
                            </div>
                            <div class="user-card shadow-sm">
                                <div class="card-avatar" style='background-image: url("https://i.pravatar.cc/150?img=51");'></div>
                                <div class="card-text">
                                    <p class="name">Ben Carter</p>
                                    <p class="role">Administrador de Red</p>
                                </div>
                                <a class="btn-primary-dark" href="#" onclick="event.preventDefault(); showProfileView('Ben Carter', 'Administrador de Red', '51', 'active')">Ver detalle</a>
                            </div>
                            <div class="user-card shadow-sm">
                                <div class="card-avatar" style='background-image: url("https://i.pravatar.cc/150?img=5");'></div>
                                <div class="card-text">
                                    <p class="name">Chloe Davis</p>
                                    <p class="role">Analista de Sistemas</p>
                                </div>
                                <a class="btn-primary-dark" href="#" onclick="event.preventDefault(); showProfileView('Chloe Davis', 'Analista de Sistemas', '5', 'active')">Ver detalle</a>
                            </div>
                            <div class="user-card shadow-sm">
                                <div class="card-avatar" style='background-image: url("https://i.pravatar.cc/150?img=11");'></div>
                                <div class="card-text">
                                    <p class="name">David Evans</p>
                                    <p class="role">Soporte Técnico</p>
                                </div>
                                <a class="btn-primary-dark" href="#" onclick="event.preventDefault(); showProfileView('David Evans', 'Soporte Técnico', '11', 'active')">Ver detalle</a>
                            </div>
                            <div class="user-card shadow-sm">
                                <div class="card-avatar" style='background-image: url("https://i.pravatar.cc/150?img=49");'></div>
                                <div class="card-text">
                                    <p class="name">Eva Foster</p>
                                    <p class="role">Administradora de Base de Datos</p>
                                </div>
                                <a class="btn-primary-dark" href="#" onclick="event.preventDefault(); showProfileView('Eva Foster', 'Administradora de Base de Datos', '49', 'active')">Ver detalle</a>
                            </div>
                            <div class="user-card shadow-sm">
                                <div class="card-avatar" style='background-image: url("https://i.pravatar.cc/150?img=68");'></div>
                                <div class="card-text">
                                    <p class="name">Frank Green</p>
                                    <p class="role">Ciberseguridad</p>
                                </div>
                                <a class="btn-primary-dark" href="#" onclick="event.preventDefault(); showProfileView('Frank Green', 'Ciberseguridad', '68', 'active')">Ver detalle</a>
                            </div>
                        </div>
                        
                        <!-- Grid de empleados inactivos -->
                        <div id="inactive-employees-grid" class="inventory-grid" style="display: none;">
                            <div class="user-card shadow-sm inactive-employee">
                                <div class="card-avatar" style='background-image: url("https://i.pravatar.cc/150?img=1");'></div>
                                <div class="card-text">
                                    <p class="name">Grace Hall</p>
                                    <p class="role">Ex-Desarrolladora</p>
                                </div>
                                <a class="btn-primary-dark" href="#" onclick="event.preventDefault(); showProfileView('Grace Hall', 'Ex-Desarrolladora', '1', 'inactive')">Ver detalle</a>
                            </div>
                            <div class="user-card shadow-sm inactive-employee">
                                <div class="card-avatar" style='background-image: url("https://i.pravatar.cc/150?img=12");'></div>
                                <div class="card-text">
                                    <p class="name">Henry Irwin</p>
                                    <p class="role">Ex-Gerente de Proyectos</p>
                                </div>
                                <a class="btn-primary-dark" href="#" onclick="event.preventDefault(); showProfileView('Henry Irwin', 'Ex-Gerente de Proyectos', '12', 'inactive')">Ver detalle</a>
                            </div>
                            <div class="user-card shadow-sm inactive-employee">
                                <div class="card-avatar" style='background-image: url("https://i.pravatar.cc/150?img=47");'></div>
                                <div class="card-text">
                                    <p class="name">Ivy Jackson</p>
                                    <p class="role">Ex-Probadora de QA</p>
                                </div>
                                <a class="btn-primary-dark" href="#" onclick="event.preventDefault(); showProfileView('Ivy Jackson', 'Ex-Probadora de QA', '47', 'inactive')">Ver detalle</a>
                            </div>
                        </div>

                        <!-- Nueva sección de Inventario -->
                        <div id="inventory-section" style="display: none;">
                            <!-- Barra de búsqueda y botones -->
                            <div style="display: flex; gap: 1rem; align-items: center; margin-bottom: 1.5rem; flex-wrap: wrap;">
                                <div class="search-container shadow-sm" style="flex: 1; min-width: 250px; margin: 0;">
                                    <span class="material-symbols-outlined search-icon">search</span>
                                    <input class="search-input" id="inventory-search-input" placeholder="Buscar por dispositivo, ID o usuario..." type="text"/>
                                </div>
                                <button class="btn-outline" style="white-space: nowrap;">
                                    <span class="material-symbols-outlined icon-base">filter_alt</span>
                                    Filtrar por estado
                                </button>
                                <button class="btn-primary-highlight" style="white-space: nowrap;" onclick="openAddDeviceModal()">
                                    <span class="material-symbols-outlined icon-base">add</span>
                                    Añadir Dispositivo
                                </button>
                            </div>

                            <!-- Sección de Monitores -->
                            <div class="inventory-category">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; cursor: pointer;" onclick="toggleCategory('monitors')">
                                    <div style="display: flex; align-items: center; gap: 0.5rem;">
                                        <span class="material-symbols-outlined">computer</span>
                                        <h3 style="font-size: 1.125rem; font-weight: 600; margin: 0;">Monitores</h3>
                                        <span style="background: var(--bg-secondary); padding: 0.25rem 0.75rem; border-radius: 1rem; font-size: 0.875rem; font-weight: 500;">2</span>
                                    </div>
                                    <span class="material-symbols-outlined" id="monitors-icon">expand_less</span>
                                </div>
                                
                                <div id="monitors-grid" class="inventory-grid" style="grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));">
                                    <div class="user-card shadow-sm">
                                        <div style="padding: 1rem;">
                                            <h4 style="font-weight: 600; margin: 0 0 0.25rem 0;">Monitor Dell U2721DE</h4>
                                            <p style="font-size: 0.875rem; color: var(--text-secondary); margin: 0 0 0.75rem 0;">ID: MON-00123</p>
                                            <div style="display: flex; flex-direction: column; gap: 0.5rem; margin-bottom: 0.75rem;">
                                                <div style="display: flex; justify-content: space-between;">
                                                    <span style="font-size: 0.875rem; color: var(--text-secondary);">Usuario Asignado:</span>
                                                    <span style="font-size: 0.875rem; font-weight: 500;">Alice Johnson</span>
                                                </div>
                                                <div style="display: flex; justify-content: space-between;">
                                                    <span style="font-size: 0.875rem; color: var(--text-secondary);">Estado:</span>
                                                    <span style="background: #d4edda; color: #155724; padding: 0.125rem 0.5rem; border-radius: 0.25rem; font-size: 0.75rem; font-weight: 600;">Asignado</span>
                                                </div>
                                            </div>
                                            <div style="display: flex; gap: 0.5rem;">
                                                <button style="flex: 1; padding: 0.5rem; border: none; background: transparent; cursor: pointer; display: flex; align-items: center; justify-content: center;">
                                                    <span class="material-symbols-outlined" style="font-size: 1.25rem;">edit</span>
                                                </button>
                                                <button style="flex: 1; padding: 0.5rem; border: none; background: transparent; cursor: pointer; display: flex; align-items: center; justify-content: center;">
                                                    <span class="material-symbols-outlined" style="font-size: 1.25rem;">delete</span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="user-card shadow-sm">
                                        <div style="padding: 1rem;">
                                            <h4 style="font-weight: 600; margin: 0 0 0.25rem 0;">Monitor LG 27UL500</h4>
                                            <p style="font-size: 0.875rem; color: var(--text-secondary); margin: 0 0 0.75rem 0;">ID: MON-00124</p>
                                            <div style="display: flex; flex-direction: column; gap: 0.5rem; margin-bottom: 0.75rem;">
                                                <div style="display: flex; justify-content: space-between;">
                                                    <span style="font-size: 0.875rem; color: var(--text-secondary);">Usuario Asignado:</span>
                                                    <span style="font-size: 0.875rem; font-weight: 500;">N/A</span>
                                                </div>
                                                <div style="display: flex; justify-content: space-between;">
                                                    <span style="font-size: 0.875rem; color: var(--text-secondary);">Estado:</span>
                                                    <span style="background: #fff3cd; color: #856404; padding: 0.125rem 0.5rem; border-radius: 0.25rem; font-size: 0.75rem; font-weight: 600;">En Almacén</span>
                                                </div>
                                            </div>
                                            <div style="display: flex; gap: 0.5rem;">
                                                <button style="flex: 1; padding: 0.5rem; border: none; background: transparent; cursor: pointer; display: flex; align-items: center; justify-content: center;">
                                                    <span class="material-symbols-outlined" style="font-size: 1.25rem;">edit</span>
                                                </button>
                                                <button style="flex: 1; padding: 0.5rem; border: none; background: transparent; cursor: pointer; display: flex; align-items: center; justify-content: center;">
                                                    <span class="material-symbols-outlined" style="font-size: 1.25rem;">delete</span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Sección de Teclados -->
                            <div class="inventory-category" style="margin-top: 2rem;">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; cursor: pointer;" onclick="toggleCategory('keyboards')">
                                    <div style="display: flex; align-items: center; gap: 0.5rem;">
                                        <span class="material-symbols-outlined">keyboard</span>
                                        <h3 style="font-size: 1.125rem; font-weight: 600; margin: 0;">Teclados</h3>
                                        <span style="background: var(--bg-secondary); padding: 0.25rem 0.75rem; border-radius: 1rem; font-size: 0.875rem; font-weight: 500;">1</span>
                                    </div>
                                    <span class="material-symbols-outlined" id="keyboards-icon">expand_more</span>
                                </div>
                                
                                <div id="keyboards-grid" class="inventory-grid" style="display: none; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));">
                                    <div class="user-card shadow-sm">
                                        <div style="padding: 1rem;">
                                            <h4 style="font-weight: 600; margin: 0 0 0.25rem 0;">Teclado Mecánico Keychron K2</h4>
                                            <p style="font-size: 0.875rem; color: var(--text-secondary); margin: 0 0 0.75rem 0;">ID: KBD-00045</p>
                                            <div style="display: flex; flex-direction: column; gap: 0.5rem; margin-bottom: 0.75rem;">
                                                <div style="display: flex; justify-content: space-between;">
                                                    <span style="font-size: 0.875rem; color: var(--text-secondary);">Usuario Asignado:</span>
                                                    <span style="font-size: 0.875rem; font-weight: 500;">Bob Smith</span>
                                                </div>
                                                <div style="display: flex; justify-content: space-between;">
                                                    <span style="font-size: 0.875rem; color: var(--text-secondary);">Estado:</span>
                                                    <span style="background: #d4edda; color: #155724; padding: 0.125rem 0.5rem; border-radius: 0.25rem; font-size: 0.75rem; font-weight: 600;">Asignado</span>
                                                </div>
                                            </div>
                                            <div style="display: flex; gap: 0.5rem;">
                                                <button style="flex: 1; padding: 0.5rem; border: none; background: transparent; cursor: pointer; display: flex; align-items: center; justify-content: center;">
                                                    <span class="material-symbols-outlined" style="font-size: 1.25rem;">edit</span>
                                                </button>
                                                <button style="flex: 1; padding: 0.5rem; border: none; background: transparent; cursor: pointer; display: flex; align-items: center; justify-content: center;">
                                                    <span class="material-symbols-outlined" style="font-size: 1.25rem;">delete</span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Sección de Mouses -->
                            <div class="inventory-category" style="margin-top: 2rem;">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; cursor: pointer;" onclick="toggleCategory('mouses')">
                                    <div style="display: flex; align-items: center; gap: 0.5rem;">
                                        <span class="material-symbols-outlined">mouse</span>
                                        <h3 style="font-size: 1.125rem; font-weight: 600; margin: 0;">Mouses</h3>
                                        <span style="background: var(--bg-secondary); padding: 0.25rem 0.75rem; border-radius: 1rem; font-size: 0.875rem; font-weight: 500;">1</span>
                                    </div>
                                    <span class="material-symbols-outlined" id="mouses-icon">expand_more</span>
                                </div>
                                
                                <div id="mouses-grid" class="inventory-grid" style="display: none; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));">
                                    <div class="user-card shadow-sm">
                                        <div style="padding: 1rem;">
                                            <h4 style="font-weight: 600; margin: 0 0 0.25rem 0;">Mouse Logitech MX Master 3</h4>
                                            <p style="font-size: 0.875rem; color: var(--text-secondary); margin: 0 0 0.75rem 0;">ID: MOU-00089</p>
                                            <div style="display: flex; flex-direction: column; gap: 0.5rem; margin-bottom: 0.75rem;">
                                                <div style="display: flex; justify-content: space-between;">
                                                    <span style="font-size: 0.875rem; color: var(--text-secondary);">Usuario Asignado:</span>
                                                    <span style="font-size: 0.875rem; font-weight: 500;">Carol Williams</span>
                                                </div>
                                                <div style="display: flex; justify-content: space-between;">
                                                    <span style="font-size: 0.875rem; color: var(--text-secondary);">Estado:</span>
                                                    <span style="background: #d4edda; color: #155724; padding: 0.125rem 0.5rem; border-radius: 0.25rem; font-size: 0.75rem; font-weight: 600;">Asignado</span>
                                                </div>
                                            </div>
                                            <div style="display: flex; gap: 0.5rem;">
                                                <button style="flex: 1; padding: 0.5rem; border: none; background: transparent; cursor: pointer; display: flex; align-items: center; justify-content: center;">
                                                    <span class="material-symbols-outlined" style="font-size: 1.25rem;">edit</span>
                                                </button>
                                                <button style="flex: 1; padding: 0.5rem; border: none; background: transparent; cursor: pointer; display: flex; align-items: center; justify-content: center;">
                                                    <span class="material-symbols-outlined" style="font-size: 1.25rem;">delete</span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Sección de CPU -->
                            <div class="inventory-category" style="margin-top: 2rem;">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; cursor: pointer;" onclick="toggleCategory('cpus')">
                                    <div style="display: flex; align-items: center; gap: 0.5rem;">
                                        <span class="material-symbols-outlined">memory</span>
                                        <h3 style="font-size: 1.125rem; font-weight: 600; margin: 0;">CPU</h3>
                                        <span style="background: var(--bg-secondary); padding: 0.25rem 0.75rem; border-radius: 1rem; font-size: 0.875rem; font-weight: 500;">2</span>
                                    </div>
                                    <span class="material-symbols-outlined" id="cpus-icon">expand_more</span>
                                </div>
                                
                                <div id="cpus-grid" class="inventory-grid" style="display: none; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));">
                                    <div class="user-card shadow-sm">
                                        <div style="padding: 1rem;">
                                            <h4 style="font-weight: 600; margin: 0 0 0.25rem 0;">Dell OptiPlex 7090</h4>
                                            <p style="font-size: 0.875rem; color: var(--text-secondary); margin: 0 0 0.75rem 0;">ID: CPU-00201</p>
                                            <div style="display: flex; flex-direction: column; gap: 0.5rem; margin-bottom: 0.75rem;">
                                                <div style="display: flex; justify-content: space-between;">
                                                    <span style="font-size: 0.875rem; color: var(--text-secondary);">Usuario Asignado:</span>
                                                    <span style="font-size: 0.875rem; font-weight: 500;">David Evans</span>
                                                </div>
                                                <div style="display: flex; justify-content: space-between;">
                                                    <span style="font-size: 0.875rem; color: var(--text-secondary);">Estado:</span>
                                                    <span style="background: #d4edda; color: #155724; padding: 0.125rem 0.5rem; border-radius: 0.25rem; font-size: 0.75rem; font-weight: 600;">Asignado</span>
                                                </div>
                                            </div>
                                            <div style="display: flex; gap: 0.5rem;">
                                                <button style="flex: 1; padding: 0.5rem; border: none; background: transparent; cursor: pointer; display: flex; align-items: center; justify-content: center;">
                                                    <span class="material-symbols-outlined" style="font-size: 1.25rem;">edit</span>
                                                </button>
                                                <button style="flex: 1; padding: 0.5rem; border: none; background: transparent; cursor: pointer; display: flex; align-items: center; justify-content: center;">
                                                    <span class="material-symbols-outlined" style="font-size: 1.25rem;">delete</span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="user-card shadow-sm">
                                        <div style="padding: 1rem;">
                                            <h4 style="font-weight: 600; margin: 0 0 0.25rem 0;">HP EliteDesk 800 G6</h4>
                                            <p style="font-size: 0.875rem; color: var(--text-secondary); margin: 0 0 0.75rem 0;">ID: CPU-00202</p>
                                            <div style="display: flex; flex-direction: column; gap: 0.5rem; margin-bottom: 0.75rem;">
                                                <div style="display: flex; justify-content: space-between;">
                                                    <span style="font-size: 0.875rem; color: var(--text-secondary);">Usuario Asignado:</span>
                                                    <span style="font-size: 0.875rem; font-weight: 500;">N/A</span>
                                                </div>
                                                <div style="display: flex; justify-content: space-between;">
                                                    <span style="font-size: 0.875rem; color: var(--text-secondary);">Estado:</span>
                                                    <span style="background: #fff3cd; color: #856404; padding: 0.125rem 0.5rem; border-radius: 0.25rem; font-size: 0.75rem; font-weight: 600;">En Almacén</span>
                                                </div>
                                            </div>
                                            <div style="display: flex; gap: 0.5rem;">
                                                <button style="flex: 1; padding: 0.5rem; border: none; background: transparent; cursor: pointer; display: flex; align-items: center; justify-content: center;">
                                                    <span class="material-symbols-outlined" style="font-size: 1.25rem;">edit</span>
                                                </button>
                                                <button style="flex: 1; padding: 0.5rem; border: none; background: transparent; cursor: pointer; display: flex; align-items: center; justify-content: center;">
                                                    <span class="material-symbols-outlined" style="font-size: 1.25rem;">delete</span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Sección de Diademas -->
                            <div class="inventory-category" style="margin-top: 2rem;">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; cursor: pointer;" onclick="toggleCategory('headphones')">
                                    <div style="display: flex; align-items: center; gap: 0.5rem;">
                                        <span class="material-symbols-outlined">headphones</span>
                                        <h3 style="font-size: 1.125rem; font-weight: 600; margin: 0;">Diademas</h3>
                                        <span style="background: var(--bg-secondary); padding: 0.25rem 0.75rem; border-radius: 1rem; font-size: 0.875rem; font-weight: 500;">2</span>
                                    </div>
                                    <span class="material-symbols-outlined" id="headphones-icon">expand_more</span>
                                </div>
                                
                                <div id="headphones-grid" class="inventory-grid" style="display: none; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));">
                                    <div class="user-card shadow-sm">
                                        <div style="padding: 1rem;">
                                            <h4 style="font-weight: 600; margin: 0 0 0.25rem 0;">Sony WH-1000XM5</h4>
                                            <p style="font-size: 0.875rem; color: var(--text-secondary); margin: 0 0 0.75rem 0;">ID: HDP-00056</p>
                                            <div style="display: flex; flex-direction: column; gap: 0.5rem; margin-bottom: 0.75rem;">
                                                <div style="display: flex; justify-content: space-between;">
                                                    <span style="font-size: 0.875rem; color: var(--text-secondary);">Usuario Asignado:</span>
                                                    <span style="font-size: 0.875rem; font-weight: 500;">Ana Garcia</span>
                                                </div>
                                                <div style="display: flex; justify-content: space-between;">
                                                    <span style="font-size: 0.875rem; color: var(--text-secondary);">Estado:</span>
                                                    <span style="background: #d4edda; color: #155724; padding: 0.125rem 0.5rem; border-radius: 0.25rem; font-size: 0.75rem; font-weight: 600;">Asignado</span>
                                                </div>
                                            </div>
                                            <div style="display: flex; gap: 0.5rem;">
                                                <button style="flex: 1; padding: 0.5rem; border: none; background: transparent; cursor: pointer; display: flex; align-items: center; justify-content: center;">
                                                    <span class="material-symbols-outlined" style="font-size: 1.25rem;">edit</span>
                                                </button>
                                                <button style="flex: 1; padding: 0.5rem; border: none; background: transparent; cursor: pointer; display: flex; align-items: center; justify-content: center;">
                                                    <span class="material-symbols-outlined" style="font-size: 1.25rem;">delete</span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="user-card shadow-sm">
                                        <div style="padding: 1rem;">
                                            <h4 style="font-weight: 600; margin: 0 0 0.25rem 0;">Bose QuietComfort 45</h4>
                                            <p style="font-size: 0.875rem; color: var(--text-secondary); margin: 0 0 0.75rem 0;">ID: HDP-00057</p>
                                            <div style="display: flex; flex-direction: column; gap: 0.5rem; margin-bottom: 0.75rem;">
                                                <div style="display: flex; justify-content: space-between;">
                                                    <span style="font-size: 0.875rem; color: var(--text-secondary);">Usuario Asignado:</span>
                                                    <span style="font-size: 0.875rem; font-weight: 500;">Ben Carter</span>
                                                </div>
                                                <div style="display: flex; justify-content: space-between;">
                                                    <span style="font-size: 0.875rem; color: var(--text-secondary);">Estado:</span>
                                                    <span style="background: #d4edda; color: #155724; padding: 0.125rem 0.5rem; border-radius: 0.25rem; font-size: 0.75rem; font-weight: 600;">Asignado</span>
                                                </div>
                                            </div>
                                            <div style="display: flex; gap: 0.5rem;">
                                                <button style="flex: 1; padding: 0.5rem; border: none; background: transparent; cursor: pointer; display: flex; align-items: center; justify-content: center;">
                                                    <span class="material-symbols-outlined" style="font-size: 1.25rem;">edit</span>
                                                </button>
                                                <button style="flex: 1; padding: 0.5rem; border: none; background: transparent; cursor: pointer; display: flex; align-items: center; justify-content: center;">
                                                    <span class="material-symbols-outlined" style="font-size: 1.25rem;">delete</span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Sección de Antenas WiFi -->
                            <div class="inventory-category" style="margin-top: 2rem;">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; cursor: pointer;" onclick="toggleCategory('wifi')">
                                    <div style="display: flex; align-items: center; gap: 0.5rem;">
                                        <span class="material-symbols-outlined">wifi</span>
                                        <h3 style="font-size: 1.125rem; font-weight: 600; margin: 0;">Antenas WiFi</h3>
                                        <span style="background: var(--bg-secondary); padding: 0.25rem 0.75rem; border-radius: 1rem; font-size: 0.875rem; font-weight: 500;">1</span>
                                    </div>
                                    <span class="material-symbols-outlined" id="wifi-icon">expand_more</span>
                                </div>
                                
                                <div id="wifi-grid" class="inventory-grid" style="display: none; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));">
                                    <div class="user-card shadow-sm">
                                        <div style="padding: 1rem;">
                                            <h4 style="font-weight: 600; margin: 0 0 0.25rem 0;">TP-Link Archer TX3000E</h4>
                                            <p style="font-size: 0.875rem; color: var(--text-secondary); margin: 0 0 0.75rem 0;">ID: WIF-00015</p>
                                            <div style="display: flex; flex-direction: column; gap: 0.5rem; margin-bottom: 0.75rem;">
                                                <div style="display: flex; justify-content: space-between;">
                                                    <span style="font-size: 0.875rem; color: var(--text-secondary);">Usuario Asignado:</span>
                                                    <span style="font-size: 0.875rem; font-weight: 500;">Frank Green</span>
                                                </div>
                                                <div style="display: flex; justify-content: space-between;">
                                                    <span style="font-size: 0.875rem; color: var(--text-secondary);">Estado:</span>
                                                    <span style="background: #d4edda; color: #155724; padding: 0.125rem 0.5rem; border-radius: 0.25rem; font-size: 0.75rem; font-weight: 600;">Asignado</span>
                                                </div>
                                            </div>
                                            <div style="display: flex; gap: 0.5rem;">
                                                <button style="flex: 1; padding: 0.5rem; border: none; background: transparent; cursor: pointer; display: flex; align-items: center; justify-content: center;">
                                                    <span class="material-symbols-outlined" style="font-size: 1.25rem;">edit</span>
                                                </button>
                                                <button style="flex: 1; padding: 0.5rem; border: none; background: transparent; cursor: pointer; display: flex; align-items: center; justify-content: center;">
                                                    <span class="material-symbols-outlined" style="font-size: 1.25rem;">delete</span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div id="view-profile" class="view-section profile-container shadow-sm">
                        
                        <p class="breadcrumbs">Directorio / Usuarios / <span id="profile-name-short">Usuario</span></p>

                        <div class="profile-header">
                            <div class="profile-main-info">
                                <div id="profile-avatar" class="profile-avatar-lg" style='background-image: url("https://i.pravatar.cc/150?img=9");'></div>
                                <div>
                                    <h2 id="profile-name" class="profile-name">Nombre Usuario</h2>
                                    <p id="profile-role" class="profile-role">Cargo</p>
                                    <span id="status-badge" class="status-badge">Activo</span>
                                </div>
                            </div>
                            <div class="profile-actions">
                                <button class="btn-outline" onclick="showEditProfileView()">
                                    <span class="material-symbols-outlined icon-base">edit</span> Editar Perfil
                                </button>
                                <button class="btn-primary-highlight">
                                    <span class="material-symbols-outlined icon-base">add</span> Asignar Equipo
                                </button>
                            </div>
                        </div>

                    <!-- Información Personal -->
                        <div class="section-content">
                            <h3 class="section-title">Información Personal</h3>
                            <div class="info-data-grid-2col">
                                <!-- 1. Nombre -->
                                <div class="info-grid-item">
                                    <div class="info-label">Nombre Completo</div>
                                    <div class="info-value">Ana Sofía García Pérez</div>
                                </div>
                                
                                <!-- 2. Fecha de Nacimiento -->
                                <div class="info-grid-item">
                                    <div class="info-label">Fecha de Nacimiento</div>
                                    <div class="info-value">10/05/1985</div>
                                </div>
                                
                                <!-- 3. Cédula -->
                                <div class="info-grid-item">
                                    <div class="info-label">Cédula</div>
                                    <div class="info-value">V-12.345.678</div>
                                </div>
                                
                                <!-- 4. Celular -->
                                <div class="info-grid-item">
                                    <div class="info-label">Celular</div>
                                    <div class="info-value">+58 412-1234567</div>
                                </div>
                                
                                <!-- 5. Correo -->
                                <div class="info-grid-item">
                                    <div class="info-label">Correo</div>
                                    <div class="info-value">ana.garcia.p@email.com</div>
                                </div>
                                
                                <!-- 6. Dirección -->
                                <div class="info-grid-item">
                                    <div class="info-label">Dirección de Residencia</div>
                                    <div class="info-value">Calle Falsa 123, Apto 4B</div>
                                </div>
                                
                                <!-- 7. Localidad -->
                                <div class="info-grid-item">
                                    <div class="info-label">Localidad, Barrio</div>
                                    <div class="info-value">Bosa, La Independencia</div>
                                </div>
                                
                                <!-- 8. Ciudad -->
                                <div class="info-grid-item">
                                    <div class="info-label">Ciudad / Departamento</div>
                                    <div class="info-value">Bogotá D.C.</div>
                                </div>
                                
                                <!-- 9. Tipo de Sangre -->
                                <div class="info-grid-item">
                                    <div class="info-label">Tipo de Sangre</div>
                                    <div class="info-value">O+</div>
                                </div>
                                
                                <!-- 10. Hijos -->
                                <div class="info-grid-item">
                                    <div class="info-label">Número de Hijos</div>
                                    <div class="info-value">2</div>
                                </div>
                                
                                <!-- 11. Persona de Contacto -->
                                <div class="info-grid-item">
                                    <div class="info-label">Persona de Contacto en Emergencias</div>
                                    <div class="info-value">Carlos Pérez</div>
                                </div>
                                
                                <!-- 12. Teléfono de Emergencia -->
                                <div class="info-grid-item">
                                    <div class="info-label">Teléfono de Emergencia</div>
                                    <div class="info-value">+57 310-9876543</div>
                                </div>
                                
                                <!-- 13. Parentesco del Contacto -->
                                <div class="info-grid-item">
                                    <div class="info-label">Parentesco del Contacto de Emergencia</div>
                                    <div class="info-value">Padre</div>
                                </div>
                            </div>
                        </div>
                    <!-- Datos Legales -->
                        <div class="section-content">
                            <h3 class="section-title">Datos Legales</h3>
                            <div class="info-data-grid-2col">
                                <!-- Activo -->
                                <div class="info-grid-item">
                                    <div class="info-label">Estado</div>
                                    <div class="info-value">Activo</div>
                                </div>
                                
                                <!-- EPS -->
                                <div class="info-grid-item">
                                    <div class="info-label">EPS</div>
                                    <div class="info-value">Sura</div>
                                </div>
                                
                                <!-- Fecha Afiliación EPS -->
                                <div class="info-grid-item">
                                    <div class="info-label">Fecha Afiliación EPS</div>
                                    <div class="info-value">15/03/2023</div>
                                </div>
                                
                                <!-- Fecha Desafiliación EPS -->
                                <div class="info-grid-item">
                                    <div class="info-label">Fecha Desafiliación EPS</div>
                                    <div class="info-value">-</div>
                                </div>
                                
                                <!-- ARL -->
                                <div class="info-grid-item">
                                    <div class="info-label">ARL</div>
                                    <div class="info-value">Positiva</div>
                                </div>
                                
                                <!-- Fecha Afiliación ARL -->
                                <div class="info-grid-item">
                                    <div class="info-label">Fecha Afiliación ARL</div>
                                    <div class="info-value">15/03/2023</div>
                                </div>
                                
                                <!-- Fecha Desafiliación ARL -->
                                <div class="info-grid-item">
                                    <div class="info-label">Fecha Desafiliación ARL</div>
                                    <div class="info-value">-</div>
                                </div>
                                
                                <!-- Caja de Compensación -->
                                <div class="info-grid-item">
                                    <div class="info-label">Caja de Compensación</div>
                                    <div class="info-value">Colsubsidio</div>
                                </div>
                                
                                <!-- Fecha Afiliación Caja Compensación -->
                                <div class="info-grid-item">
                                    <div class="info-label">Fecha Afiliación Caja Compensación</div>
                                    <div class="info-value">15/03/2023</div>
                                </div>
                                
                                <!-- Fecha Desafiliación Caja Compensación -->
                                <div class="info-grid-item">
                                    <div class="info-label">Fecha Desafiliación Caja Compensación</div>
                                    <div class="info-value">-</div>
                                </div>
                                
                                <!-- Fondo de Pensiones -->
                                <div class="info-grid-item">
                                    <div class="info-label">Fondo de Pensiones</div>
                                    <div class="info-value">Protección</div>
                                </div>
                                
                                <!-- Fondo de Cesantías -->
                                <div class="info-grid-item">
                                    <div class="info-label">Fondo de Cesantías</div>
                                    <div class="info-value">Porvenir</div>
                                </div>
                            </div>
                        </div>

                    <!-- Información de la Empresa -->
                        <div class="section-content">
                            <h3 class="section-title">Información de la Empresa</h3>
                            <div class="info-data-grid-2col">
                                <!-- Tipo de Contrato -->
                                <div class="info-grid-item">
                                    <div class="info-label">Tipo de Contrato</div>
                                    <div class="info-value">Indefinido</div>
                                </div>
                                
                                <!-- Cargo -->
                                <div class="info-grid-item">
                                    <div class="info-label">Cargo</div>
                                    <div class="info-value">Desarrollador Senior</div>
                                </div>
                                
                                <!-- Inicio de contrato -->
                                <div class="info-grid-item">
                                    <div class="info-label">Inicio de Contrato</div>
                                    <div class="info-value">15/01/2020</div>
                                </div>
                                
                                <!-- Finalización de contrato -->
                                <div class="info-grid-item">
                                    <div class="info-label">Finalización de Contrato</div>
                                    <div class="info-value">-</div>
                                </div>
                                
                                <!-- Área / Departamento -->
                                <div class="info-grid-item">
                                    <div class="info-label">Área / Departamento</div>
                                    <div class="info-value">Tecnología de la Información</div>
                                </div>
                                
                                <!-- Jefe Inmediato -->
                                <div class="info-grid-item">
                                    <div class="info-label">Jefe Inmediato</div>
                                    <div class="info-value">Carlos Rodríguez</div>
                                </div>
                                
                                <!-- Horario / Jornada Laboral -->
                                <div class="info-grid-item">
                                    <div class="info-label">Horario / Jornada Laboral</div>
                                    <div class="info-value">L-V 9:00am - 5:00pm</div>
                                </div>
                                
                                <!-- Salario -->
                                <div class="info-grid-item">
                                    <div class="info-label">Salario</div>
                                    <div class="info-value">$5.000.000</div>
                                </div>
                                
                                <!-- Entidad de pago -->
                                <div class="info-grid-item">
                                    <div class="info-label">Entidad de Pago</div>
                                    <div class="info-value">Bancolombia</div>
                                </div>
                                
                                <!-- Número de cuenta -->
                                <div class="info-grid-item">
                                    <div class="info-label">Número de Cuenta</div>
                                    <div class="info-value">123-456789-01</div>
                                </div>
                                
                                <!-- ID BIOMETRICO -->
                                <div class="info-grid-item">
                                    <div class="info-label">ID Biométrico</div>
                                    <div class="info-value">BIO-2023-001234</div>
                                </div>
                            </div>
                        </div>

                        <!-- Pestañas Hardware / Software / Observaciones -->
                        <div class="tabs-container">
                            <button class="tab-btn active" onclick="switchTab('hardware', this)">Hardware</button>
                            <button class="tab-btn" onclick="switchTab('software', this)">Software</button>
                            <button class="tab-btn" onclick="switchTab('obs', this)">Observaciones</button>
                        </div>

                        <!-- Tab Hardware -->
                        <div id="tab-hardware" class="tab-content active">
                            <div class="info-data-grid-2col">
                                <div class="info-grid-item">
                                    <div class="info-label">Procesador</div>
                                    <div class="info-value">Intel Core i7 12th Gen</div>
                                </div>
                                <div class="info-grid-item">
                                    <div class="info-label">Memoria RAM</div>
                                    <div class="info-value">16 GB DDR4</div>
                                </div>
                                <div class="info-grid-item">
                                    <div class="info-label">Almacenamiento</div>
                                    <div class="info-value">512 GB SSD NVMe</div>
                                </div>
                                <div class="info-grid-item">
                                    <div class="info-label">Tarjeta Gráfica</div>
                                    <div class="info-value">NVIDIA RTX 3050</div>
                                </div>
                                <div class="info-grid-item">
                                    <div class="info-label">Antena Wifi</div>
                                    <div class="info-value">Integrada</div>
                                </div>
                                <div class="info-grid-item">
                                    <div class="info-label">Mouse</div>
                                    <div class="info-value">Logitech G203</div>
                                </div>
                                <div class="info-grid-item">
                                    <div class="info-label">Teclado</div>
                                    <div class="info-value">Mecánico Redragon</div>
                                </div>
                                <div class="info-grid-item">
                                    <div class="info-label">Diadema</div>
                                    <div class="info-value">Sony WH-1000XM5</div>
                                </div>
                            </div>
                        </div>

                        <!-- Tab Software -->
                        <div id="tab-software" class="tab-content">
                            <div class="info-data-grid-2col">
                                <div class="info-grid-item">
                                    <div class="info-label">Microsoft Office 365</div>
                                    <div class="info-value">Licencia E3</div>
                                </div>
                                <div class="info-grid-item">
                                    <div class="info-label">Adobe Creative Cloud</div>
                                    <div class="info-value">Todas las aplicaciones</div>
                                </div>
                                <div class="info-grid-item">
                                    <div class="info-label">Slack</div>
                                    <div class="info-value">Plan Pro</div>
                                </div>
                                <div class="info-grid-item">
                                    <div class="info-label">Figma</div>
                                    <div class="info-value">Licencia Profesional</div>
                                </div>
                                <div class="info-grid-item">
                                    <div class="info-label">Jira</div>
                                    <div class="info-value">Acceso Completo</div>
                                </div>
                                <div class="info-grid-item">
                                    <div class="info-label">GitLab</div>
                                    <div class="info-value">Rol de Mantenedor</div>
                                </div>
                            </div>
                        </div>

                        <!-- Tab Observaciones -->
                        <div id="tab-obs" class="tab-content">
                            <div class="obs-card">
                                <p>El equipo fue entregado el día 15 de Noviembre de 2025. Se encuentra en excelentes condiciones. Tiene instalado el paquete Adobe completo y Office 365 empresarial.</p>
                            </div>
                        </div>

                        <div class="mt-4">
                            <a class="back-to-directory" href="#" onclick="event.preventDefault(); showDirectoryView()">← Volver al Directorio</a>
                        </div>
                    </div>
                    
                        <!-- Vista de Edición -->
                    <div id="view-edit-profile" class="view-section profile-container shadow-sm">
                        <p class="breadcrumbs">Directorio / Usuarios / <span id="edit-profile-name-short">Usuario</span></p>

                        <div class="profile-header">
                            <div class="profile-main-info">
                                <div id="edit-profile-avatar" class="profile-avatar-lg" style='background-image: url("https://i.pravatar.cc/150?img=9");'></div>
                                <div>
                                    <h2 id="edit-profile-name-full" class="profile-name">Editar Perfil de Ana García</h2>
                                    <p class="profile-role">Modifique la información personal y de hardware del usuario.</p>
                                </div>
                            </div>
                            <div class="profile-actions">
                                <button class="btn-outline" onclick="showProfileViewFromEdit()">Cancelar</button>
                                <button class="btn-primary-highlight">
                                    <span class="material-symbols-outlined icon-base">save</span>
                                    Guardar Cambios
                                </button>
                            </div>
                        </div>
                        
                        <!-- Información Personal -->
                        <div class="section-content">
                            <h3 class="section-title">Información Personal</h3>
                            <div class="edit-form-grid">
                                <div class="form-input-group">
                                    <label for="edit-nombre-completo" class="form-label">Nombre Completo</label>
                                    <div class="input-with-icon">
                                        <input class="form-input" id="edit-nombre-completo" type="text" value="Ana Sofía García Pérez"/>
                                        <span class="material-symbols-outlined input-icon">edit</span>
                                    </div>
                                </div>
                                <div class="form-input-group">
                                    <label for="edit-fecha-nacimiento" class="form-label">Fecha de Nacimiento</label>
                                    <div class="input-with-icon">
                                        <input class="form-input" id="edit-fecha-nacimiento" type="date" value="1985-05-10"/>
                                        <span class="material-symbols-outlined input-icon">edit</span>
                                    </div>
                                </div>
                                <div class="form-input-group">
                                    <label for="edit-cedula" class="form-label">Cédula</label>
                                    <div class="input-with-icon">
                                        <input class="form-input" id="edit-cedula" type="text" value="V-12.345.678"/>
                                        <span class="material-symbols-outlined input-icon">edit</span>
                                    </div>
                                </div>
                                <div class="form-input-group">
                                    <label for="edit-celular" class="form-label">Celular</label>
                                    <div class="input-with-icon">
                                        <input class="form-input" id="edit-celular" type="tel" value="+58 412-1234567"/>
                                        <span class="material-symbols-outlined input-icon">edit</span>
                                    </div>
                                </div>
                                <div class="form-input-group">
                                    <label for="edit-correo" class="form-label">Correo</label>
                                    <div class="input-with-icon">
                                        <input class="form-input" id="edit-correo" type="email" value="ana.garcia.p@email.com"/>
                                        <span class="material-symbols-outlined input-icon">edit</span>
                                    </div>
                                </div>
                                <div class="form-input-group">
                                    <label for="edit-direccion" class="form-label">Dirección de Residencia</label>
                                    <div class="input-with-icon">
                                        <input class="form-input" id="edit-direccion" type="text" value="Calle Falsa 123, Apto 4B"/>
                                        <span class="material-symbols-outlined input-icon">edit</span>
                                    </div>
                                </div>
                                <div class="form-input-group">
                                    <label for="edit-localidad" class="form-label">Localidad, Barrio</label>
                                    <div class="input-with-icon">
                                        <input class="form-input" id="edit-localidad" type="text" value="Bosa, La Independencia"/>
                                        <span class="material-symbols-outlined input-icon">edit</span>
                                    </div>
                                </div>
                                <div class="form-input-group">
                                    <label for="edit-ciudad" class="form-label">Ciudad / Departamento</label>
                                    <div class="input-with-icon">
                                        <input class="form-input" id="edit-ciudad" type="text" value="Bogotá D.C."/>
                                        <span class="material-symbols-outlined input-icon">edit</span>
                                    </div>
                                </div>
                                <div class="form-input-group">
                                    <label for="edit-tipo-sangre" class="form-label">Tipo de Sangre</label>
                                    <div class="input-with-icon">
                                        <input class="form-input" id="edit-tipo-sangre" type="text" value="O+"/>
                                        <span class="material-symbols-outlined input-icon">edit</span>
                                    </div>
                                </div>
                                <div class="form-input-group">
                                    <label for="edit-num-hijos" class="form-label">Número de Hijos</label>
                                    <div class="input-with-icon">
                                        <input class="form-input" id="edit-num-hijos" type="number" value="2"/>
                                        <span class="material-symbols-outlined input-icon">edit</span>
                                    </div>
                                </div>
                                <div class="form-input-group">
                                    <label for="edit-contacto-emergencia" class="form-label">Persona de Contacto en Emergencias</label>
                                    <div class="input-with-icon">
                                        <input class="form-input" id="edit-contacto-emergencia" type="text" value="Carlos Pérez"/>
                                        <span class="material-symbols-outlined input-icon">edit</span>
                                    </div>
                                </div>
                                <div class="form-input-group">
                                    <label for="edit-telefono-emergencia" class="form-label">Teléfono de Emergencia</label>
                                    <div class="input-with-icon">
                                        <input class="form-input" id="edit-telefono-emergencia" type="tel" value="+57 310-9876543"/>
                                        <span class="material-symbols-outlined input-icon">edit</span>
                                    </div>
                                </div>
                                <div class="form-input-group">
                                    <label for="edit-parentesco-emergencia" class="form-label">Parentesco del Contacto de Emergencia</label>
                                    <div class="input-with-icon">
                                        <input class="form-input" id="edit-parentesco-emergencia" type="text" value="Padre"/>
                                        <span class="material-symbols-outlined input-icon">edit</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Datos Legales -->
                        <div class="section-content">
                            <h3 class="section-title">Datos Legales</h3>
                            <div class="edit-form-grid">
                                <div class="form-input-group">
                                    <label for="edit-estado" class="form-label">Estado</label>
                                    <div class="input-with-icon">
                                        <input class="form-input" id="edit-estado" type="text" value="Activo"/>
                                        <span class="material-symbols-outlined input-icon">edit</span>
                                    </div>
                                </div>
                                <div class="form-input-group">
                                    <label for="edit-eps" class="form-label">EPS</label>
                                    <div class="input-with-icon">
                                        <input class="form-input" id="edit-eps" type="text" value="Sura"/>
                                        <span class="material-symbols-outlined input-icon">edit</span>
                                    </div>
                                </div>
                                <div class="form-input-group">
                                    <label for="edit-fecha-afiliacion-eps" class="form-label">Fecha Afiliación EPS</label>
                                    <div class="input-with-icon">
                                        <input class="form-input" id="edit-fecha-afiliacion-eps" type="date" value="2023-03-15"/>
                                        <span class="material-symbols-outlined input-icon">edit</span>
                                    </div>
                                </div>
                                <div class="form-input-group">
                                    <label for="edit-fecha-desafiliacion-eps" class="form-label">Fecha Desafiliación EPS</label>
                                    <div class="input-with-icon">
                                        <input class="form-input" id="edit-fecha-desafiliacion-eps" type="date" value=""/>
                                        <span class="material-symbols-outlined input-icon">edit</span>
                                    </div>
                                </div>
                                <div class="form-input-group">
                                    <label for="edit-arl" class="form-label">ARL</label>
                                    <div class="input-with-icon">
                                        <input class="form-input" id="edit-arl" type="text" value="Positiva"/>
                                        <span class="material-symbols-outlined input-icon">edit</span>
                                    </div>
                                </div>
                                <div class="form-input-group">
                                    <label for="edit-fecha-afiliacion-arl" class="form-label">Fecha Afiliación ARL</label>
                                    <div class="input-with-icon">
                                        <input class="form-input" id="edit-fecha-afiliacion-arl" type="date" value="2023-03-15"/>
                                        <span class="material-symbols-outlined input-icon">edit</span>
                                    </div>
                                </div>
                                <div class="form-input-group">
                                    <label for="edit-fecha-desafiliacion-arl" class="form-label">Fecha Desafiliación ARL</label>
                                    <div class="input-with-icon">
                                        <input class="form-input" id="edit-fecha-desafiliacion-arl" type="date" value=""/>
                                        <span class="material-symbols-outlined input-icon">edit</span>
                                    </div>
                                </div>
                                <div class="form-input-group">
                                    <label for="edit-caja-compensacion" class="form-label">Caja de Compensación</label>
                                    <div class="input-with-icon">
                                        <input class="form-input" id="edit-caja-compensacion" type="text" value="Colsubsidio"/>
                                        <span class="material-symbols-outlined input-icon">edit</span>
                                    </div>
                                </div>
                                <div class="form-input-group">
                                    <label for="edit-fecha-afiliacion-caja" class="form-label">Fecha Afiliación Caja Compensación</label>
                                    <div class="input-with-icon">
                                        <input class="form-input" id="edit-fecha-afiliacion-caja" type="date" value="2023-03-15"/>
                                        <span class="material-symbols-outlined input-icon">edit</span>
                                    </div>
                                </div>
                                <div class="form-input-group">
                                    <label for="edit-fecha-desafiliacion-caja" class="form-label">Fecha Desafiliación Caja Compensación</label>
                                    <div class="input-with-icon">
                                        <input class="form-input" id="edit-fecha-desafiliacion-caja" type="date" value=""/>
                                        <span class="material-symbols-outlined input-icon">edit</span>
                                    </div>
                                </div>
                                <div class="form-input-group">
                                    <label for="edit-fondo-pensiones" class="form-label">Fondo de Pensiones</label>
                                    <div class="input-with-icon">
                                        <input class="form-input" id="edit-fondo-pensiones" type="text" value="Protección"/>
                                        <span class="material-symbols-outlined input-icon">edit</span>
                                    </div>
                                </div>
                                <div class="form-input-group">
                                    <label for="edit-fondo-cesantias" class="form-label">Fondo de Cesantías</label>
                                    <div class="input-with-icon">
                                        <input class="form-input" id="edit-fondo-cesantias" type="text" value="Porvenir"/>
                                        <span class="material-symbols-outlined input-icon">edit</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Información de la Empresa -->
                        <div class="section-content">
                            <h3 class="section-title">Información de la Empresa</h3>
                            <div class="edit-form-grid">
                                <div class="form-input-group">
                                    <label for="edit-tipo-contrato" class="form-label">Tipo de Contrato</label>
                                    <div class="input-with-icon">
                                        <input class="form-input" id="edit-tipo-contrato" type="text" value="Indefinido"/>
                                        <span class="material-symbols-outlined input-icon">edit</span>
                                    </div>
                                </div>
                                <div class="form-input-group">
                                    <label for="edit-cargo" class="form-label">Cargo</label>
                                    <div class="input-with-icon">
                                        <input class="form-input" id="edit-cargo" type="text" value="Desarrollador Senior"/>
                                        <span class="material-symbols-outlined input-icon">edit</span>
                                    </div>
                                </div>
                                <div class="form-input-group">
                                    <label for="edit-inicio-contrato" class="form-label">Inicio de Contrato</label>
                                    <div class="input-with-icon">
                                        <input class="form-input" id="edit-inicio-contrato" type="date" value="2020-01-15"/>
                                        <span class="material-symbols-outlined input-icon">edit</span>
                                    </div>
                                </div>
                                <div class="form-input-group">
                                    <label for="edit-finalizacion-contrato" class="form-label">Finalización de Contrato</label>
                                    <div class="input-with-icon">
                                        <input class="form-input" id="edit-finalizacion-contrato" type="date" value=""/>
                                        <span class="material-symbols-outlined input-icon">edit</span>
                                    </div>
                                </div>
                                <div class="form-input-group">
                                    <label for="edit-area-departamento" class="form-label">Área / Departamento</label>
                                    <div class="input-with-icon">
                                        <input class="form-input" id="edit-area-departamento" type="text" value="Tecnología de la Información"/>
                                        <span class="material-symbols-outlined input-icon">edit</span>
                                    </div>
                                </div>
                                <div class="form-input-group">
                                    <label for="edit-jefe-inmediato" class="form-label">Jefe Inmediato</label>
                                    <div class="input-with-icon">
                                        <input class="form-input" id="edit-jefe-inmediato" type="text" value="Carlos Rodríguez"/>
                                        <span class="material-symbols-outlined input-icon">edit</span>
                                    </div>
                                </div>
                                <div class="form-input-group">
                                    <label for="edit-horario" class="form-label">Horario / Jornada Laboral</label>
                                    <div class="input-with-icon">
                                        <input class="form-input" id="edit-horario" type="text" value="L-V 9:00am - 5:00pm"/>
                                        <span class="material-symbols-outlined input-icon">edit</span>
                                    </div>
                                </div>
                                <div class="form-input-group">
                                    <label for="edit-salario" class="form-label">Salario</label>
                                    <div class="input-with-icon">
                                        <input class="form-input" id="edit-salario" type="text" value="$5.000.000"/>
                                        <span class="material-symbols-outlined input-icon">edit</span>
                                    </div>
                                </div>
                                <div class="form-input-group">
                                    <label for="edit-entidad-pago" class="form-label">Entidad de Pago</label>
                                    <div class="input-with-icon">
                                        <input class="form-input" id="edit-entidad-pago" type="text" value="Bancolombia"/>
                                        <span class="material-symbols-outlined input-icon">edit</span>
                                    </div>
                                </div>
                                <div class="form-input-group">
                                    <label for="edit-numero-cuenta" class="form-label">Número de Cuenta</label>
                                    <div class="input-with-icon">
                                        <input class="form-input" id="edit-numero-cuenta" type="text" value="123-456789-01"/>
                                        <span class="material-symbols-outlined input-icon">edit</span>
                                    </div>
                                </div>
                                <div class="form-input-group">
                                    <label for="edit-id-biometrico" class="form-label">ID Biométrico</label>
                                    <div class="input-with-icon">
                                        <input class="form-input" id="edit-id-biometrico" type="text" value="BIO-2023-001234"/>
                                        <span class="material-symbols-outlined input-icon">edit</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Pestañas: Hardware, Software, Observaciones, Historial -->
                        <div class="section-content">
                            <div class="tabs-container">
                                <button class="tab-btn active" onclick="switchEditTab('hardware', this)">Hardware</button>
                                <button class="tab-btn" onclick="switchEditTab('software', this)">Software</button>
                                <button class="tab-btn" onclick="switchEditTab('obs', this)">Observaciones</button>
                                <button class="tab-btn" onclick="switchEditTab('history', this)">Historial</button>
                            </div>

                            <!-- Tab Hardware -->
                            <div id="tab-edit-hardware" class="tab-content active">
                                <div class="edit-form-grid">
                                    <div class="form-input-group">
                                        <label for="edit-procesador" class="form-label">Procesador</label>
                                        <div class="input-with-icon">
                                            <input class="form-input" id="edit-procesador" type="text" value="Intel Core i7 12th Gen"/>
                                            <span class="material-symbols-outlined input-icon">edit</span>
                                        </div>
                                    </div>
                                    <div class="form-input-group">
                                        <label for="edit-ram" class="form-label">Memoria RAM</label>
                                        <div class="input-with-icon">
                                            <input class="form-input" id="edit-ram" type="text" value="16 GB DDR4"/>
                                            <span class="material-symbols-outlined input-icon">edit</span>
                                        </div>
                                    </div>
                                    <div class="form-input-group">
                                        <label for="edit-almacenamiento" class="form-label">Almacenamiento</label>
                                        <div class="input-with-icon">
                                            <input class="form-input" id="edit-almacenamiento" type="text" value="512 GB SSD NVMe"/>
                                            <span class="material-symbols-outlined input-icon">edit</span>
                                        </div>
                                    </div>
                                    <div class="form-input-group">
                                        <label for="edit-gpu" class="form-label">Tarjeta Gráfica</label>
                                        <div class="input-with-icon">
                                            <input class="form-input" id="edit-gpu" type="text" value="NVIDIA RTX 3050"/>
                                            <span class="material-symbols-outlined input-icon">edit</span>
                                        </div>
                                    </div>
                                    <div class="form-input-group">
                                        <label for="edit-antena-wifi" class="form-label">Antena Wifi</label>
                                        <div class="input-with-icon">
                                            <input class="form-input" id="edit-antena-wifi" type="text" value="Integrada"/>
                                            <span class="material-symbols-outlined input-icon">edit</span>
                                        </div>
                                    </div>
                                    <div class="form-input-group">
                                        <label for="edit-mouse" class="form-label">Mouse</label>
                                        <div class="input-with-icon">
                                            <input class="form-input" id="edit-mouse" type="text" value="Logitech G203"/>
                                            <span class="material-symbols-outlined input-icon">edit</span>
                                        </div>
                                    </div>
                                    <div class="form-input-group">
                                        <label for="edit-teclado" class="form-label">Teclado</label>
                                        <div class="input-with-icon">
                                            <input class="form-input" id="edit-teclado" type="text" value="Mecánico Redragon"/>
                                            <span class="material-symbols-outlined input-icon">edit</span>
                                        </div>
                                    </div>
                                    <div class="form-input-group">
                                        <label for="edit-diadema" class="form-label">Diadema</label>
                                        <div class="input-with-icon">
                                            <input class="form-input" id="edit-diadema" type="text" value="Sony WH-1000XM5"/>
                                            <span class="material-symbols-outlined input-icon">edit</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Tab Software -->
                            <div id="tab-edit-software" class="tab-content">
                                <div class="edit-form-grid">
                                    <div class="form-input-group">
                                        <label for="edit-office365" class="form-label">Microsoft Office 365</label>
                                        <div class="input-with-icon">
                                            <input class="form-input" id="edit-office365" type="text" value="Licencia E3"/>
                                            <span class="material-symbols-outlined input-icon">edit</span>
                                        </div>
                                    </div>
                                    <div class="form-input-group">
                                        <label for="edit-adobe" class="form-label">Adobe Creative Cloud</label>
                                        <div class="input-with-icon">
                                            <input class="form-input" id="edit-adobe" type="text" value="Todas las aplicaciones"/>
                                            <span class="material-symbols-outlined input-icon">edit</span>
                                        </div>
                                    </div>
                                    <div class="form-input-group">
                                        <label for="edit-slack" class="form-label">Slack</label>
                                        <div class="input-with-icon">
                                            <input class="form-input" id="edit-slack" type="text" value="Plan Pro"/>
                                            <span class="material-symbols-outlined input-icon">edit</span>
                                        </div>
                                    </div>
                                    <div class="form-input-group">
                                        <label for="edit-figma" class="form-label">Figma</label>
                                        <div class="input-with-icon">
                                            <input class="form-input" id="edit-figma" type="text" value="Licencia Profesional"/>
                                            <span class="material-symbols-outlined input-icon">edit</span>
                                        </div>
                                    </div>
                                    <div class="form-input-group">
                                        <label for="edit-jira" class="form-label">Jira</label>
                                        <div class="input-with-icon">
                                            <input class="form-input" id="edit-jira" type="text" value="Acceso Completo"/>
                                            <span class="material-symbols-outlined input-icon">edit</span>
                                        </div>
                                    </div>
                                    <div class="form-input-group">
                                        <label for="edit-gitlab" class="form-label">GitLab</label>
                                        <div class="input-with-icon">
                                            <input class="form-input" id="edit-gitlab" type="text" value="Rol de Mantenedor"/>
                                            <span class="material-symbols-outlined input-icon">edit</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Tab Observaciones -->
                            <div id="tab-edit-obs" class="tab-content">
                                <div class="form-input-group">
                                    <label for="edit-observaciones" class="form-label">Observaciones</label>
                                    <textarea class="form-input" id="edit-observaciones" rows="6" style="resize: vertical; font-family: inherit;">El equipo fue entregado el día 15 de Noviembre de 2025. Se encuentra en excelentes condiciones. Tiene instalado el paquete Adobe completo y Office 365 empresarial.</textarea>
                                </div>
                            </div>

                            <!-- Tab Historial -->
                            <div id="tab-edit-history" class="tab-content">
                                <div class="table-container">
                                    <table class="data-table">
                                        <thead>
                                            <tr>
                                                <th>Fecha</th>
                                                <th>Componente</th>
                                                <th>Valor Anterior</th>
                                                <th>Valor Nuevo</th>
                                                <th>Realizado por</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>15/05/2024</td>
                                                <td>RAM</td>
                                                <td>8 GB</td>
                                                <td>16 GB</td>
                                                <td>Admin TI</td>
                                            </tr>
                                            <tr>
                                                <td>10/01/2024</td>
                                                <td>Mouse</td>
                                                <td>Apple Magic Mouse</td>
                                                <td>Logitech MX Master 3S</td>
                                                <td>Admin TI</td>
                                            </tr>
                                            <tr>
                                                <td>10/01/2024</td>
                                                <td>Diadema</td>
                                                <td>N/A</td>
                                                <td>Sony WH-1000XM5</td>
                                                <td>Admin TI</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
                <!-- ============================================ -->
                <!-- MODAL DE AÑADIR DISPOSITIVO -->
                <!-- Agregar este bloque ANTES del cierre de </main> -->
                <!-- ============================================ -->

                <!-- Modal Overlay - Fondo oscuro que cubre toda la pantalla -->
                <div id="add-device-modal" class="modal-overlay" style="display: none;">
                    <!-- Modal Content - Contenedor principal del modal -->
                    <div class="modal-content modal-device">
                        
                        <!-- HEADER DEL MODAL -->
                        <div class="modal-header-device">
                            <div>
                                <h2 class="modal-title">Añadir Dispositivo(s)</h2>
                                <p class="modal-subtitle-device">Añade un dispositivo individual o múltiples dispositivos al inventario.</p>
                            </div>
                            <!-- Botón para cerrar el modal -->
                            <button class="modal-close-btn" onclick="closeAddDeviceModal()">
                                <span class="material-symbols-outlined">close</span>
                            </button>
                        </div>

                        <!-- PESTAÑAS DE SELECCIÓN: Individual / Múltiples -->
                        <div class="device-tabs-container">
                            <button class="device-tab-btn active" onclick="switchDeviceTab('individual', this)">
                                Añadir Dispositivo Individual
                            </button>
                            <button class="device-tab-btn" onclick="switchDeviceTab('multiple', this)">
                                Añadir Múltiples Dispositivos
                            </button>
                        </div>

                        <!-- ============================================ -->
                        <!-- FORMULARIO: DISPOSITIVO INDIVIDUAL -->
                        <!-- ============================================ -->
                        <div id="device-tab-individual" class="device-tab-content active">
                            
                            <!-- Campo: Nombre del Dispositivo -->
                            <div class="form-input-group">
                                <label class="form-label">Nombre</label>
                                <input class="form-input" type="text" placeholder="Ej: Monitor Dell U2721DE" />
                            </div>

                            <!-- Campo: Identificador Único (ID) -->
                            <div class="form-input-group">
                                <label class="form-label">Identificador Único (ID)</label>
                                <input class="form-input" type="text" placeholder="Ej: MON-00125" />
                            </div>

                            <!-- Campo: Número de Serie -->
                            <div class="form-input-group">
                                <label class="form-label">Número de Serie</label>
                                <input class="form-input" type="text" placeholder="Ej: SN-456-134-98" />
                            </div>

                            <!-- Campo: Tipo de Dispositivo (Dropdown) -->
                            <div class="form-input-group">
                                <label class="form-label">Tipo de Dispositivo</label>
                                <select class="form-input">
                                    <option value="">Seleccionar tipo...</option>
                                    <option value="monitor">Monitor</option>
                                    <option value="keyboard">Teclado</option>
                                    <option value="mouse">Mouse</option>
                                    <option value="cpu">CPU</option>
                                    <option value="headphones">Diadema</option>
                                    <option value="wifi">Antena WiFi</option>
                                </select>
                            </div>

                            <!-- Campo: Estado del Dispositivo (Dropdown) -->
                            <div class="form-input-group">
                                <label class="form-label">Estado</label>
                                <select class="form-input">
                                    <option value="storage">En Almacén</option>
                                    <option value="assigned">Asignado</option>
                                    <option value="maintenance">En Mantenimiento</option>
                                    <option value="damaged">Dañado</option>
                                </select>
                            </div>

                            <!-- Campo: Usuario Asignado (Opcional - con búsqueda) -->
                            <div class="form-input-group">
                                <label class="form-label">Usuario Asignado (Opcional)</label>
                                <div class="input-with-icon">
                                    <input class="form-input" type="text" placeholder="Buscar empleado..." />
                                    <span class="material-symbols-outlined input-icon">search</span>
                                </div>
                            </div>

                            <!-- Botones de Acción -->
                            <div class="device-modal-actions">
                                <button class="btn-outline" onclick="closeAddDeviceModal()">
                                    Cancelar
                                </button>
                                <button class="btn-primary-highlight" onclick="submitIndividualDevice()">
                                    Añadir
                                </button>
                            </div>
                        </div>

                        <!-- ============================================ -->
                        <!-- FORMULARIO: MÚLTIPLES DISPOSITIVOS -->
                        <!-- ============================================ -->
                        <div id="device-tab-multiple" class="device-tab-content">
                            
                            <!-- Campo: Tipo de Dispositivo (Dropdown) -->
                            <div class="form-input-group">
                                <label class="form-label">Tipo de Dispositivo</label>
                                <select class="form-input">
                                    <option value="">Seleccionar tipo...</option>
                                    <option value="monitor">Monitor</option>
                                    <option value="keyboard">Teclado</option>
                                    <option value="mouse">Mouse</option>
                                    <option value="cpu">CPU</option>
                                    <option value="headphones">Diadema</option>
                                    <option value="wifi">Antena WiFi</option>
                                </select>
                            </div>

                            <!-- Campo: Cantidad de Dispositivos -->
                            <div class="form-input-group">
                                <label class="form-label">Cantidad</label>
                                <input class="form-input" type="number" value="1" min="1" />
                            </div>

                            <!-- Campo: Número de Serie Inicial -->
                            <div class="form-input-group">
                                <label class="form-label">Número de Serie Inicial</label>
                                <div style="display: flex; align-items: center; gap: 0.5rem;">
                                    <input class="form-input" type="text" placeholder="Ej: SN-456-13500" style="flex: 1;" />
                                    <!-- Checkbox para auto-incrementar números de serie -->
                                    <label style="display: flex; align-items: center; gap: 0.25rem; cursor: pointer; white-space: nowrap; font-size: 0.875rem;">
                                        <input type="checkbox" checked style="cursor: pointer;" />
                                        <span class="material-symbols-outlined" style="font-size: 1.25rem;">add_circle</span>
                                        Auto-incrementar
                                    </label>
                                </div>
                            </div>

                            <!-- Campo: Estado por Defecto -->
                            <div class="form-input-group">
                                <label class="form-label">Estado</label>
                                <select class="form-input">
                                    <option value="storage">En Almacén</option>
                                    <option value="assigned">Asignado</option>
                                    <option value="maintenance">En Mantenimiento</option>
                                    <option value="damaged">Dañado</option>
                                </select>
                            </div>

                            <!-- Botones de Acción -->
                            <div class="device-modal-actions">
                                <button class="btn-outline" onclick="closeAddDeviceModal()">
                                    Cancelar
                                </button>
                                <button class="btn-primary-highlight" onclick="submitMultipleDevices()">
                                    Generar y Añadir
                                </button>
                            </div>
                        </div>

                    </div>
                </div>
        </main>
    </div>


    <script>
        // Referencias a elementos
        const dirView = document.getElementById('view-directory');
        const profileView = document.getElementById('view-profile');
        const editProfileView = document.getElementById('view-edit-profile');
        const activeEmployeesGrid = document.getElementById('active-employees-grid');
        const inactiveEmployeesGrid = document.getElementById('inactive-employees-grid');
        const inventorySection = document.getElementById('inventory-section');
        const searchInput = document.getElementById('search-input');
        const inventorySearchInput = document.getElementById('inventory-search-input');

        const profileAvatar = document.getElementById('profile-avatar');
        const editProfileAvatar = document.getElementById('edit-profile-avatar');
        const statusBadge = document.getElementById('status-badge');

        const themeToggleBtn = document.getElementById('theme-toggle-btn');
        const body = document.body;
        const sunIcon = document.querySelector('.sun-icon');
        const moonIcon = document.querySelector('.moon-icon');
        const logoLight = document.querySelector('.logo-light');
        const logoDark = document.querySelector('.logo-dark');

        // Variable global para almacenar datos del usuario seleccionado
        let currentProfileData = {};
        let currentEmployeeType = 'active'; // 'active', 'inactive' o 'inventory'

        // Función para cambiar entre pestañas de empleados (Activo/Inactivo/Inventario)
        function switchEmployeeTab(tabId, element) {
            // 1. Resetear todos los botones de pestaña
            document.querySelectorAll('#view-directory .tabs-container .tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            // 2. Activar el botón clickeado
            element.classList.add('active');

            // 3. Mostrar/ocultar grids correspondientes
            if (tabId === 'active') {
                activeEmployeesGrid.style.display = 'grid';
                inactiveEmployeesGrid.style.display = 'none';
                inventorySection.style.display = 'none';
                searchInput.style.display = 'block';
                searchInput.placeholder = 'Buscar por nombre o puesto...';
                currentEmployeeType = 'active';
            } else if (tabId === 'inactive') {
                activeEmployeesGrid.style.display = 'none';
                inactiveEmployeesGrid.style.display = 'grid';
                inventorySection.style.display = 'none';
                searchInput.style.display = 'block';
                searchInput.placeholder = 'Buscar por nombre o puesto...';
                currentEmployeeType = 'inactive';
            } else if (tabId === 'inventory') {
                activeEmployeesGrid.style.display = 'none';
                inactiveEmployeesGrid.style.display = 'none';
                inventorySection.style.display = 'block';
                searchInput.style.display = 'none';
                currentEmployeeType = 'inventory';
            }

            // 4. Limpiar búsqueda
            searchInput.value = '';
            if (inventorySearchInput) inventorySearchInput.value = '';
        }

        // Función para expandir/colapsar categorías de inventario
        function toggleCategory(categoryId) {
            const grid = document.getElementById(categoryId + '-grid');
            const icon = document.getElementById(categoryId + '-icon');
            
            if (grid.style.display === 'none' || grid.style.display === '') {
                grid.style.display = 'grid';
                icon.textContent = 'expand_less';
            } else {
                grid.style.display = 'none';
                icon.textContent = 'expand_more';
            }
        }

        // Función para búsqueda en tiempo real (empleados)
        searchInput.addEventListener('input', function() {
            const searchTerm = this.value.toLowerCase();
            const currentGrid = currentEmployeeType === 'active' ? activeEmployeesGrid : inactiveEmployeesGrid;
            const cards = currentGrid.querySelectorAll('.user-card');

            cards.forEach(card => {
                const name = card.querySelector('.name').textContent.toLowerCase();
                const role = card.querySelector('.role').textContent.toLowerCase();
                
                if (name.includes(searchTerm) || role.includes(searchTerm)) {
                    card.style.display = 'flex';
                } else {
                    card.style.display = 'none';
                }
            });
        });

        // Función para búsqueda en inventario
        if (inventorySearchInput) {
            inventorySearchInput.addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase();
                const allCards = inventorySection.querySelectorAll('.user-card');

                allCards.forEach(card => {
                    const title = card.querySelector('h4').textContent.toLowerCase();
                    const id = card.querySelector('p').textContent.toLowerCase();
                    const user = card.querySelectorAll('div > span')[1] ? card.querySelectorAll('div > span')[1].textContent.toLowerCase() : '';
                    
                    if (title.includes(searchTerm) || id.includes(searchTerm) || user.includes(searchTerm)) {
                        card.style.display = 'block';
                    } else {
                        card.style.display = 'none';
                    }
                });
            });
        }

        // Función para mostrar la vista de perfil
        function showProfileView(name, role, imgId, status) {
            // 1. Guardar la data del usuario seleccionado
            currentProfileData = {
                name,
                role,
                imgId,
                status,
                fullName: 'Ana Sofía García Pérez',
                cedula: 'V-12.345.678'
            };

            // 2. Actualizar datos del perfil
            document.getElementById('profile-name').innerText = name;
            document.getElementById('profile-name-short').innerText = name;
            document.getElementById('profile-role').innerText = role;
            profileAvatar.style.backgroundImage = `url('https://i.pravatar.cc/150?img=${imgId}')`;
            
            // 3. Actualizar el badge de estado según el tipo de empleado
            if (status === 'active') {
                statusBadge.textContent = 'Activo';
                statusBadge.className = 'status-badge active';
            } else {
                statusBadge.textContent = 'Inactivo';
                statusBadge.className = 'status-badge inactive';
            }
            
            // 4. Cambiar vista: Ocultar directorio/edición y mostrar perfil detallado
            dirView.classList.remove('active');
            editProfileView.classList.remove('active');
            profileView.classList.add('active');

            // 5. Resetear a la primera pestaña (Hardware) al cargar el perfil
            const firstTab = document.querySelector('#view-profile .tabs-container .tab-btn:first-child');
            if (firstTab) {
                switchTab('hardware', firstTab);
            }
        }

        // Función para mostrar la vista de edición de perfil
        function showEditProfileView() {
            // 1. Ocultar la vista de perfil detallado
            profileView.classList.remove('active');
            
            // 2. Mostrar la vista de edición
            editProfileView.classList.add('active');

            // 3. Actualizar datos de la cabecera de edición con los datos guardados
            document.getElementById('edit-profile-name-full').innerText = `Editar Perfil de ${currentProfileData.name}`;
            document.getElementById('edit-profile-name-short').innerText = currentProfileData.name;
            editProfileAvatar.style.backgroundImage = `url('https://i.pravatar.cc/150?img=${currentProfileData.imgId}')`;

            // 4. Asegurarse de que la pestaña de Historial esté activa por defecto
            const historyTabBtn = document.querySelector('#view-edit-profile .tabs-container .tab-btn:last-child');
            if (historyTabBtn) {
                switchEditTab('history', historyTabBtn);
            }
        }

        // Función para volver a la vista de perfil detallado desde la edición
        function showProfileViewFromEdit() {
            editProfileView.classList.remove('active');
            profileView.classList.add('active');
        }

        // Función para volver al directorio
        function showDirectoryView() {
            profileView.classList.remove('active');
            editProfileView.classList.remove('active');
            dirView.classList.add('active');
        }

        // Función para cambiar entre pestañas de información (Hardware/Software/Obs) en la VISTA DETALLADA
        function switchTab(tabId, element) {
            // 1. Resetear todos los botones de pestaña
            document.querySelectorAll('#view-profile .tabs-container .tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            // 2. Activar el botón clickeado
            element.classList.add('active');

            // 3. Ocultar todos los contenidos de pestaña
            document.querySelectorAll('#view-profile .tab-content').forEach(content => {
                content.classList.remove('active');
            });

            // 4. Mostrar el contenido de la pestaña seleccionada
            document.getElementById('tab-' + tabId).classList.add('active');
        }

        // Función para cambiar entre pestañas en la VISTA DE EDICIÓN
        function switchEditTab(tabId, element) {
            // 1. Resetear todos los botones de pestaña dentro de la vista de edición
            document.querySelectorAll('#view-edit-profile .tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            // 2. Activar el botón clickeado
            element.classList.add('active');

            // 3. Ocultar todos los contenidos de pestaña dentro de la vista de edición
            document.querySelectorAll('#view-edit-profile .tab-content').forEach(content => {
                content.classList.remove('active');
            });

            // 4. Mostrar el contenido de la pestaña seleccionada
            document.getElementById('tab-edit-' + tabId).classList.add('active');
        }

        // Lógica de Alternar Tema (Dark/Light)
        themeToggleBtn.addEventListener('click', () => {
            // Alterna la clase 'dark-mode' en el <body>
            body.classList.toggle('dark-mode');
            
            // Cambiar íconos (sol/luna) y logos
            if (body.classList.contains('dark-mode')) {
                sunIcon.classList.add('hidden');
                moonIcon.classList.remove('hidden');
                
                // Manejo de Logos
                if (logoLight && logoDark) {
                    logoLight.classList.add('hidden');
                    logoDark.classList.remove('hidden');
                }
            } else {
                moonIcon.classList.add('hidden');
                sunIcon.classList.remove('hidden');
                
                // Manejo de Logos
                if (logoLight && logoDark) {
                    logoLight.classList.remove('hidden');
                    logoDark.classList.add('hidden');
                }
            }
        });

            // ========================================
            // VARIABLES GLOBALES PARA EL FORMULARIO
            // ========================================

            // Paso actual del formulario (comienza en 1)
            let currentStep = 1;
            // Total de pasos en el formulario
            const totalSteps = 5;

            // ========================================
            // FUNCIÓN PARA MOSTRAR EL FORMULARIO
            // ========================================

            function showAddEmployeeForm() {
                // Mostrar el modal
                document.getElementById('add-employee-modal').style.display = 'flex';
                // Resetear al primer paso
                currentStep = 1;
                updateStepDisplay();
                // Prevenir scroll del body cuando el modal está abierto
                document.body.style.overflow = 'hidden';
            }

            // ========================================
            // FUNCIÓN PARA CERRAR EL FORMULARIO
            // ========================================

            function closeAddEmployeeForm() {
                // Ocultar el modal
                document.getElementById('add-employee-modal').style.display = 'none';
                // Restaurar scroll del body
                document.body.style.overflow = 'auto';
                // Limpiar todos los campos del formulario (opcional)
                // resetFormFields();
            }

            // ========================================
            // FUNCIÓN PARA AVANZAR AL SIGUIENTE PASO
            // ========================================

            function nextStep() {
                // Verificar que no estemos en el último paso
                if (currentStep < totalSteps) {
                    currentStep++;
                    updateStepDisplay();
                }
            }

            // ========================================
            // FUNCIÓN PARA RETROCEDER AL PASO ANTERIOR
            // ========================================

            function previousStep() {
                // Verificar que no estemos en el primer paso
                if (currentStep > 1) {
                    currentStep--;
                    updateStepDisplay();
                }
            }

            // ========================================
            // FUNCIÓN PARA ACTUALIZAR LA VISUALIZACIÓN DE LOS PASOS
            // ========================================

            function updateStepDisplay() {
                // 1. ACTUALIZAR INDICADORES DE PASOS (STEPPER)
                
                const stepItems = document.querySelectorAll('.step-item');
                const stepConnectors = document.querySelectorAll('.step-connector');
                
                stepItems.forEach((item, index) => {
                    const stepNumber = index + 1;
                    
                    // Remover todas las clases primero
                    item.classList.remove('active', 'completed');
                    
                    if (stepNumber < currentStep) {
                        // Pasos anteriores = completados
                        item.classList.add('completed');
                    } else if (stepNumber === currentStep) {
                        // Paso actual = activo
                        item.classList.add('active');
                    }
                    // Los pasos futuros no tienen clase especial
                });
                
                // Actualizar conectores entre pasos
                stepConnectors.forEach((connector, index) => {
                    connector.classList.remove('completed');
                    if (index < currentStep - 1) {
                        connector.classList.add('completed');
                    }
                });
                
                // 2. MOSTRAR/OCULTAR CONTENIDO DE PASOS
                
                const formSteps = document.querySelectorAll('.form-step');
                formSteps.forEach((step, index) => {
                    step.classList.remove('active');
                    if (index === currentStep - 1) {
                        step.classList.add('active');
                    }
                });
                
                // 3. ACTUALIZAR BOTONES DE NAVEGACIÓN
                
                const prevBtn = document.getElementById('prev-step-btn');
                const nextBtn = document.getElementById('next-step-btn');
                const submitBtn = document.getElementById('submit-form-btn');
                
                // Mostrar botón "Anterior" solo si no estamos en el primer paso
                if (currentStep === 1) {
                    prevBtn.style.display = 'none';
                } else {
                    prevBtn.style.display = 'flex';
                }
                
                // Mostrar botón "Siguiente" hasta el penúltimo paso
                if (currentStep === totalSteps) {
                    nextBtn.style.display = 'none';
                    submitBtn.style.display = 'flex';
                } else {
                    nextBtn.style.display = 'flex';
                    submitBtn.style.display = 'none';
                }
            }

            // ========================================
            // FUNCIÓN PARA ENVIAR EL FORMULARIO COMPLETO
            // ========================================

            function submitEmployeeForm() {
                // Aquí puedes agregar la lógica para:
                // 1. Validar todos los campos
                // 2. Recopilar los datos del formulario
                // 3. Enviar los datos al servidor (API)
                // 4. Crear la tarjeta del nuevo empleado en la vista
                
                // Por ahora, solo mostramos una alerta de confirmación
                alert('¡Empleado registrado exitosamente!');
                
                // Cerrar el modal
                closeAddEmployeeForm();
                
                // Aquí podrías agregar el nuevo empleado al grid dinámicamente
                // addNewEmployeeCard(employeeData);
            }

            // ========================================
            // FUNCIÓN AUXILIAR PARA RESETEAR CAMPOS (OPCIONAL)
            // ========================================

            function resetFormFields() {
                // Resetear todos los inputs del formulario
                const modal = document.getElementById('add-employee-modal');
                const inputs = modal.querySelectorAll('input');
                inputs.forEach(input => {
                    input.value = '';
                });
                
                // Volver al primer paso
                currentStep = 1;
                updateStepDisplay();
            }

            // ========================================
            // CERRAR MODAL AL HACER CLIC FUERA DE ÉL
            // ========================================

            document.addEventListener('click', function(event) {
                const modal = document.getElementById('add-employee-modal');
                if (modal && event.target === modal) {
                    closeAddEmployeeForm();
                }
            });

            // ========================================
            // CERRAR MODAL CON TECLA ESC
            // ========================================

            document.addEventListener('keydown', function(event) {
                const modal = document.getElementById('add-employee-modal');
                if (modal && modal.style.display === 'flex' && event.key === 'Escape') {
                    closeAddEmployeeForm();
                }
            });

            // ========================================
            // MODIFICACIÓN DE LA FUNCIÓN switchEmployeeTab
            // Para mostrar/ocultar el botón "Agregar Empleado"
            // ========================================

            // REEMPLAZAR la función switchEmployeeTab existente con esta versión mejorada:

            function switchEmployeeTab(tabId, element) {
                // 1. Resetear todos los botones de pestaña
                document.querySelectorAll('#view-directory .tabs-container .tab-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                // 2. Activar el botón clickeado
                element.classList.add('active');

                // 3. Referencias al botón de agregar empleado
                const addEmployeeBtnContainer = document.getElementById('add-employee-btn-container');

                // 4. Mostrar/ocultar grids correspondientes
                if (tabId === 'active') {
                    activeEmployeesGrid.style.display = 'grid';
                    inactiveEmployeesGrid.style.display = 'none';
                    inventorySection.style.display = 'none';
                    searchInput.style.display = 'block';
                    searchInput.placeholder = 'Buscar por nombre o puesto...';
                    
                    // MOSTRAR botón "Agregar Empleado" solo en pestaña Activos
                    if (addEmployeeBtnContainer) {
                        addEmployeeBtnContainer.style.display = 'flex';
                    }
                    
                    currentEmployeeType = 'active';
                } else if (tabId === 'inactive') {
                    activeEmployeesGrid.style.display = 'none';
                    inactiveEmployeesGrid.style.display = 'grid';
                    inventorySection.style.display = 'none';
                    searchInput.style.display = 'block';
                    searchInput.placeholder = 'Buscar por nombre o puesto...';
                    
                    // OCULTAR botón "Agregar Empleado" en otras pestañas
                    if (addEmployeeBtnContainer) {
                        addEmployeeBtnContainer.style.display = 'none';
                    }
                    
                    currentEmployeeType = 'inactive';
                } else if (tabId === 'inventory') {
                    activeEmployeesGrid.style.display = 'none';
                    inactiveEmployeesGrid.style.display = 'none';
                    inventorySection.style.display = 'block';
                    searchInput.style.display = 'none';
                    
                    // OCULTAR botón "Agregar Empleado" en otras pestañas
                    if (addEmployeeBtnContainer) {
                        addEmployeeBtnContainer.style.display = 'none';
                    }
                    
                    currentEmployeeType = 'inventory';
                }

                // 5. Limpiar búsqueda
                searchInput.value = '';
                if (inventorySearchInput) inventorySearchInput.value = '';
            }

            // ============================================
            // FUNCIONALIDAD DEL MODAL DE AÑADIR DISPOSITIVO
            // Agregar estas funciones ANTES del cierre de 
            // ============================================

            /**
            * Abre el modal de añadir dispositivo
            * Se llama cuando se presiona el botón "Añadir Dispositivo" en la vista de inventario
            */
            function openAddDeviceModal() {
                const modal = document.getElementById('add-device-modal');
                
                // Mostrar el modal con flex para centrado
                modal.style.display = 'flex';
                
                // Resetear a la primera pestaña (Individual)
                const firstTab = document.querySelector('.device-tab-btn:first-child');
                if (firstTab) {
                    switchDeviceTab('individual', firstTab);
                }
                
                // Prevenir scroll del body cuando el modal está abierto
                document.body.style.overflow = 'hidden';
                
                // Limpiar campos del formulario
                resetDeviceFormFields();
            }

            /**
            * Cierra el modal de añadir dispositivo
            * Restaura el scroll del body
            */
            function closeAddDeviceModal() {
                const modal = document.getElementById('add-device-modal');
                
                // Ocultar el modal
                modal.style.display = 'none';
                
                // Restaurar scroll del body
                document.body.style.overflow = 'auto';
            }

            /**
            * Cambia entre las pestañas del modal (Individual / Múltiples)
            * @param {string} tabId - ID de la pestaña ('individual' o 'multiple')
            * @param {HTMLElement} element - Elemento del botón clickeado
            */
            function switchDeviceTab(tabId, element) {
                // 1. Resetear todos los botones de pestaña
                document.querySelectorAll('.device-tab-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                
                // 2. Activar el botón clickeado
                element.classList.add('active');
                
                // 3. Ocultar todo el contenido de las pestañas
                document.querySelectorAll('.device-tab-content').forEach(content => {
                    content.classList.remove('active');
                });
                
                // 4. Mostrar el contenido de la pestaña seleccionada
                document.getElementById('device-tab-' + tabId).classList.add('active');
            }

            /**
            * Resetea todos los campos del formulario de dispositivos
            * Útil al abrir el modal o después de guardar
            */
            function resetDeviceFormFields() {
                const modal = document.getElementById('add-device-modal');
                
                // Resetear todos los inputs y selects
                const inputs = modal.querySelectorAll('input:not([type="checkbox"]), select');
                inputs.forEach(input => {
                    if (input.tagName === 'SELECT') {
                        input.selectedIndex = 0;
                    } else {
                        input.value = '';
                    }
                });
                
                // Resetear cantidad a 1 en pestaña múltiple
                const quantityInput = modal.querySelector('#device-tab-multiple input[type="number"]');
                if (quantityInput) {
                    quantityInput.value = '1';
                }
                
                // Marcar checkbox de auto-incrementar
                const autoIncrementCheckbox = modal.querySelector('#device-tab-multiple input[type="checkbox"]');
                if (autoIncrementCheckbox) {
                    autoIncrementCheckbox.checked = true;
                }
            }

            /**
            * Procesa el formulario de dispositivo individual
            * AQUÍ DEBES AGREGAR LA LÓGICA PARA GUARDAR EN TU BASE DE DATOS
            */
            function submitIndividualDevice() {
                // Obtener valores del formulario
                const modal = document.getElementById('device-tab-individual');
                const inputs = modal.querySelectorAll('input, select');
                
                // Crear objeto con los datos del dispositivo
                const deviceData = {
                    name: inputs[0].value,
                    id: inputs[1].value,
                    serialNumber: inputs[2].value,
                    type: inputs[3].value,
                    status: inputs[4].value,
                    assignedUser: inputs[5].value
                };
                
                // Validación básica
                if (!deviceData.name || !deviceData.id || !deviceData.type) {
                    alert('Por favor completa los campos obligatorios: Nombre, ID y Tipo de Dispositivo');
                    return;
                }
                
                // AQUÍ AGREGAR LÓGICA PARA GUARDAR EN BASE DE DATOS
                console.log('Dispositivo individual a guardar:', deviceData);
                
                // Mostrar mensaje de éxito
                alert('¡Dispositivo añadido exitosamente!');
                
                // Cerrar modal
                closeAddDeviceModal();
                
                // AQUÍ PUEDES AGREGAR LÓGICA PARA ACTUALIZAR LA VISTA
                // Por ejemplo: addDeviceCardToUI(deviceData);
            }

            /**
            * Procesa el formulario de múltiples dispositivos
            * AQUÍ DEBES AGREGAR LA LÓGICA PARA GUARDAR MÚLTIPLES DISPOSITIVOS
            */
            function submitMultipleDevices() {
                // Obtener valores del formulario
                const modal = document.getElementById('device-tab-multiple');
                const inputs = modal.querySelectorAll('input, select');
                
                // Crear objeto con los datos
                const deviceData = {
                    type: inputs[0].value,
                    quantity: parseInt(inputs[1].value),
                    initialSerial: inputs[2].value,
                    autoIncrement: inputs[3].checked,
                    status: inputs[4].value
                };
                
                // Validación básica
                if (!deviceData.type || deviceData.quantity < 1) {
                    alert('Por favor completa los campos obligatorios: Tipo y Cantidad');
                    return;
                }
                
                // AQUÍ AGREGAR LÓGICA PARA GENERAR Y GUARDAR MÚLTIPLES DISPOSITIVOS
                console.log('Dispositivos múltiples a guardar:', deviceData);
                
                // Mostrar mensaje de éxito
                alert(`¡${deviceData.quantity} dispositivo(s) añadido(s) exitosamente!`);
                
                // Cerrar modal
                closeAddDeviceModal();
                
                // AQUÍ PUEDES AGREGAR LÓGICA PARA ACTUALIZAR LA VISTA
            }

            // ============================================
            // EVENT LISTENERS PARA EL MODAL DE DISPOSITIVOS
            // ============================================

            // Cerrar modal al hacer clic fuera de él
            document.addEventListener('click', function(event) {
                const modal = document.getElementById('add-device-modal');
                if (modal && event.target === modal) {
                    closeAddDeviceModal();
                }
            });

            // Cerrar modal con tecla ESC
            document.addEventListener('keydown', function(event) {
                const modal = document.getElementById('add-device-modal');
                if (modal && modal.style.display === 'flex' && event.key === 'Escape') {
                    closeAddDeviceModal();
                }
            });
    </script>
</body>
</html>